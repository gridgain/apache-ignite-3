<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="767px" preserveAspectRatio="none" style="width:650px;height:767px;background:#FFFFFF;" version="1.1" viewBox="0 0 650 767" width="650px" zoomAndPan="magnify"><defs/><g><!--class RaftGroupService--><g id="elem_RaftGroupService"><rect codeLine="3" fill="#F1F1F1" height="48" id="RaftGroupService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="250" y="7"/><ellipse cx="265" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M267.4731,29.1431 Q266.8921,29.4419 266.2529,29.5913 Q265.6138,29.7407 264.9082,29.7407 Q262.4014,29.7407 261.0815,28.0889 Q259.7617,26.437 259.7617,23.3159 Q259.7617,20.1865 261.0815,18.5347 Q262.4014,16.8828 264.9082,16.8828 Q265.6138,16.8828 266.2612,17.0322 Q266.9087,17.1816 267.4731,17.4805 L267.4731,20.2031 Q266.8423,19.6221 266.2488,19.3523 Q265.6553,19.0825 265.0244,19.0825 Q263.6797,19.0825 262.9949,20.1492 Q262.3101,21.2158 262.3101,23.3159 Q262.3101,25.4077 262.9949,26.4744 Q263.6797,27.541 265.0244,27.541 Q265.6553,27.541 266.2488,27.2712 Q266.8423,27.0015 267.4731,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="279" y="28.291">RaftGroupService</text><line style="stroke:#181818;stroke-width:0.5;" x1="251" x2="399" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="251" x2="399" y1="47" y2="47"/></g><!--class NodeOptions--><g id="elem_NodeOptions"><rect codeLine="4" fill="#F1F1F1" height="48" id="NodeOptions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="264" y="115"/><ellipse cx="279" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M281.4731,137.1431 Q280.8921,137.4419 280.2529,137.5913 Q279.6138,137.7407 278.9082,137.7407 Q276.4014,137.7407 275.0815,136.0889 Q273.7617,134.437 273.7617,131.3159 Q273.7617,128.1865 275.0815,126.5347 Q276.4014,124.8828 278.9082,124.8828 Q279.6138,124.8828 280.2612,125.0322 Q280.9087,125.1816 281.4731,125.4805 L281.4731,128.2031 Q280.8423,127.6221 280.2488,127.3523 Q279.6553,127.0825 279.0244,127.0825 Q277.6797,127.0825 276.9949,128.1492 Q276.3101,129.2158 276.3101,131.3159 Q276.3101,133.4077 276.9949,134.4744 Q277.6797,135.541 279.0244,135.541 Q279.6553,135.541 280.2488,135.2712 Q280.8423,135.0015 281.4731,134.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="293" y="136.291">NodeOptions</text><line style="stroke:#181818;stroke-width:0.5;" x1="265" x2="385" y1="147" y2="147"/><line style="stroke:#181818;stroke-width:0.5;" x1="265" x2="385" y1="155" y2="155"/></g><!--class PartitionListener--><g id="elem_PartitionListener"><rect codeLine="6" fill="#F1F1F1" height="113.9531" id="PartitionListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="636" x="7" y="223"/><ellipse cx="264.75" cy="239" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M267.2231,245.1431 Q266.6421,245.4419 266.0029,245.5913 Q265.3638,245.7407 264.6582,245.7407 Q262.1514,245.7407 260.8315,244.0889 Q259.5117,242.437 259.5117,239.3159 Q259.5117,236.1865 260.8315,234.5347 Q262.1514,232.8828 264.6582,232.8828 Q265.3638,232.8828 266.0112,233.0322 Q266.6587,233.1816 267.2231,233.4805 L267.2231,236.2031 Q266.5923,235.6221 265.9988,235.3523 Q265.4053,235.0825 264.7744,235.0825 Q263.4297,235.0825 262.7449,236.1492 Q262.0601,237.2158 262.0601,239.3159 Q262.0601,241.4077 262.7449,242.4744 Q263.4297,243.541 264.7744,243.541 Q265.4053,243.541 265.9988,243.2712 Q266.5923,243.0015 267.2231,242.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="285.25" y="244.291">PartitionListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="642" y1="255" y2="255"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="377" x="13" y="272.5352">Map&lt;Integer, PartitionListener&gt; tablePartitionListeners</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="13" y="289.0234"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="13" y="305.5117">PendingComparableValuesTracker&lt;HybridTimestamp, Void&gt; safeTime</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="624" x="13" y="322">Map&lt;StorageType, PendingComparableValuesTracker&lt;Long, Void&gt;&gt; storageIndexTracker</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="642" y1="328.9531" y2="328.9531"/></g><!--class TablePartitionListener--><g id="elem_TablePartitionListener"><rect codeLine="13" fill="#F1F1F1" height="113.9531" id="TablePartitionListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327" x="161.5" y="397"/><ellipse cx="245.75" cy="413" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M248.2231,419.1431 Q247.6421,419.4419 247.0029,419.5913 Q246.3638,419.7407 245.6582,419.7407 Q243.1514,419.7407 241.8315,418.0889 Q240.5117,416.437 240.5117,413.3159 Q240.5117,410.1865 241.8315,408.5347 Q243.1514,406.8828 245.6582,406.8828 Q246.3638,406.8828 247.0112,407.0322 Q247.6587,407.1816 248.2231,407.4805 L248.2231,410.2031 Q247.5923,409.6221 246.9988,409.3523 Q246.4053,409.0825 245.7744,409.0825 Q244.4297,409.0825 243.7449,410.1492 Q243.0601,411.2158 243.0601,413.3159 Q243.0601,415.4077 243.7449,416.4744 Q244.4297,417.541 245.7744,417.541 Q246.4053,417.541 246.9988,417.2712 Q247.5923,417.0015 248.2231,416.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="266.25" y="418.291">TablePartitionListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="162.5" x2="487.5" y1="429" y2="429"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="167.5" y="446.5352">PartitionDataStorage partitionDataStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="167.5" y="463.0234">TxStateStorage txStateStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="167.5" y="479.5117"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="167.5" y="496">StorageUpdateHandler storageUpdateHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="162.5" x2="487.5" y1="502.9531" y2="502.9531"/></g><!--class SnapshotAwarePartitionDataStorage--><g id="elem_SnapshotAwarePartitionDataStorage"><rect codeLine="20" fill="#F1F1F1" height="80.9766" id="SnapshotAwarePartitionDataStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="289" x="56.5" y="571"/><ellipse cx="75.1" cy="587" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M77.5731,593.1431 Q76.9921,593.4419 76.3529,593.5913 Q75.7138,593.7407 75.0082,593.7407 Q72.5014,593.7407 71.1815,592.0889 Q69.8617,590.437 69.8617,587.3159 Q69.8617,584.1865 71.1815,582.5347 Q72.5014,580.8828 75.0082,580.8828 Q75.7138,580.8828 76.3612,581.0322 Q77.0087,581.1816 77.5731,581.4805 L77.5731,584.2031 Q76.9423,583.6221 76.3488,583.3523 Q75.7553,583.0825 75.1244,583.0825 Q73.7797,583.0825 73.0949,584.1492 Q72.4101,585.2158 72.4101,587.3159 Q72.4101,589.4077 73.0949,590.4744 Q73.7797,591.541 75.1244,591.541 Q75.7553,591.541 76.3488,591.2712 Q76.9423,591.0015 77.5731,590.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="89.9" y="592.291">SnapshotAwarePartitionDataStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="57.5" x2="344.5" y1="603" y2="603"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="62.5" y="620.5352">MvPartitionStorage partitionStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="62.5" y="637.0234">PartitionsSnapshots partitionsSnapshots</text><line style="stroke:#181818;stroke-width:0.5;" x1="57.5" x2="344.5" y1="643.9766" y2="643.9766"/></g><!--class MvPartitionStorage--><g id="elem_MvPartitionStorage"><rect codeLine="25" fill="#F1F1F1" height="48" id="MvPartitionStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="20" y="712"/><ellipse cx="35" cy="728" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M31.4277,724.2651 L31.4277,722.1069 L38.8071,722.1069 L38.8071,724.2651 L36.3418,724.2651 L36.3418,732.3418 L38.8071,732.3418 L38.8071,734.5 L31.4277,734.5 L31.4277,732.3418 L33.8931,732.3418 L33.8931,724.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="130" x="49" y="733.291">MvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="21" x2="181" y1="744" y2="744"/><line style="stroke:#181818;stroke-width:0.5;" x1="21" x2="181" y1="752" y2="752"/></g><!--class PartitionsSnapshots--><g id="elem_PartitionsSnapshots"><rect codeLine="26" fill="#F1F1F1" height="48" id="PartitionsSnapshots" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="217" y="712"/><ellipse cx="232" cy="728" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M228.4277,724.2651 L228.4277,722.1069 L235.8071,722.1069 L235.8071,724.2651 L233.3418,724.2651 L233.3418,732.3418 L235.8071,732.3418 L235.8071,734.5 L228.4277,734.5 L228.4277,732.3418 L230.8931,732.3418 L230.8931,724.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="136" x="246" y="733.291">PartitionsSnapshots</text><line style="stroke:#181818;stroke-width:0.5;" x1="218" x2="384" y1="744" y2="744"/><line style="stroke:#181818;stroke-width:0.5;" x1="218" x2="384" y1="752" y2="752"/></g><!--class TxStateStorage--><g id="elem_TxStateStorage"><rect codeLine="27" fill="#F1F1F1" height="48" id="TxStateStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="380.5" y="587.5"/><ellipse cx="395.5" cy="603.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M391.9277,599.7651 L391.9277,597.6069 L399.3071,597.6069 L399.3071,599.7651 L396.8418,599.7651 L396.8418,607.8418 L399.3071,607.8418 L399.3071,610 L391.9277,610 L391.9277,607.8418 L394.3931,607.8418 L394.3931,599.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105" x="409.5" y="608.791">TxStateStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="381.5" x2="516.5" y1="619.5" y2="619.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="381.5" x2="516.5" y1="627.5" y2="627.5"/></g><!--reverse link RaftGroupService to NodeOptions--><g id="link_RaftGroupService_NodeOptions"><path codeLine="29" d="M325,69.54 C325,84.63 325,101.55 325,114.79 " fill="none" id="RaftGroupService-backto-NodeOptions" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="325,56.78,321,62.78,325,68.78,329,62.78,325,56.78" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link NodeOptions to PartitionListener--><g id="link_NodeOptions_PartitionListener"><path codeLine="30" d="M325,177.36 C325,191.27 325,207.4 325,222.64 " fill="none" id="NodeOptions-backto-PartitionListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="325,164.78,321,170.78,325,176.78,329,170.78,325,164.78" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link PartitionListener to TablePartitionListener--><g id="link_PartitionListener_TablePartitionListener"><path codeLine="31" d="M325,351.45 C325,366.47 325,382.14 325,396.55 " fill="none" id="PartitionListener-backto-TablePartitionListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="325,338.83,321,344.83,325,350.83,329,344.83,325,338.83" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link TablePartitionListener to SnapshotAwarePartitionDataStorage--><g id="link_TablePartitionListener_SnapshotAwarePartitionDataStorage"><path codeLine="32" d="M271.28,522.37 C258.18,538.8 244.58,555.85 232.87,570.53 " fill="none" id="TablePartitionListener-backto-SnapshotAwarePartitionDataStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="279.29,512.32,272.4217,514.5171,271.8082,521.702,278.6764,519.5049,279.29,512.32" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link TablePartitionListener to TxStateStorage--><g id="link_TablePartitionListener_TxStateStorage"><path codeLine="33" d="M378.74,522.4 C397.26,545.61 416.77,570.08 430.52,587.33 " fill="none" id="TablePartitionListener-backto-TxStateStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="370.71,512.32,371.3236,519.5049,378.1918,521.702,377.5783,514.5171,370.71,512.32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="399.8376" y="576.8227">one</text></g><!--reverse link SnapshotAwarePartitionDataStorage to MvPartitionStorage--><g id="link_SnapshotAwarePartitionDataStorage_MvPartitionStorage"><path codeLine="35" d="M159.64,663.16 C145.84,680.07 131.14,698.08 119.9,711.84 " fill="none" id="SnapshotAwarePartitionDataStorage-backto-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="167.58,653.44,160.688,655.5615,159.9955,662.7392,166.8875,660.6178,167.58,653.44" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="98.7963" y="701.3353">one</text></g><!--reverse link SnapshotAwarePartitionDataStorage to PartitionsSnapshots--><g id="link_SnapshotAwarePartitionDataStorage_PartitionsSnapshots"><path codeLine="36" d="M242.36,663.16 C256.16,680.07 270.86,698.08 282.1,711.84 " fill="none" id="SnapshotAwarePartitionDataStorage-backto-PartitionsSnapshots" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="234.42,653.44,235.1125,660.6178,242.0045,662.7392,241.312,655.5615,234.42,653.44" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[ZL9DJy904BttLsouU06v6q9YD14IL68hzw4xb8tjxcPsG8ZnlzkjBGMwYBUTDs_UVBozMJDRTpSSsXmqRuhyDZN5CCt1kO5Ka14KKLI5uWrM_4HcOsEahKgnXb-Cn5VBocZNCET0h3moKuvH8uclI8XdiAEfPioG-btAM30iS-pWfQWGSzHIwUp151R8qnQGRz0b1Ea7qcYoNvAIYIhGCHIsBnP6oR5mi48FrhrZDWGP9dkB_MkACwEpMgRK-IsSQecxcX1zDxicmQchXG_e8p3KtOKDW2KtsSKCZ0sBJq9_WlhvRcM9Jq3BlEpY0c0xMgp1khNX-qyW30vJsR8zf3epjlCTEAvHTIsjnNnpLNfCAqWn87sK32WUPPEp0vn_Fc46WvElT_IkSXrBegv9dXVsBxfWgw-uUjQ_Ydj6Ow-ptNMdsjh0KVzN7ZZu3m00]--></g></svg>