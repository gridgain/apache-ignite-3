<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1735px" preserveAspectRatio="none" style="width:5981px;height:1735px;background:#FFFFFF;" version="1.1" viewBox="0 0 5981 1735" width="5981px" zoomAndPan="magnify"><defs/><g><!--class DistributionZoneManager--><g id="elem_DistributionZoneManager"><rect codeLine="3" fill="#F1F1F1" height="64.4883" id="DistributionZoneManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1402" y="173.5"/><ellipse cx="1421.5" cy="189.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1424.4731,195.1431 Q1423.8921,195.4419 1423.2529,195.5913 Q1422.6138,195.7407 1421.9082,195.7407 Q1419.4014,195.7407 1418.0815,194.0889 Q1416.7617,192.437 1416.7617,189.3159 Q1416.7617,186.1865 1418.0815,184.5347 Q1419.4014,182.8828 1421.9082,182.8828 Q1422.6138,182.8828 1423.2612,183.0322 Q1423.9087,183.1816 1424.4731,183.4805 L1424.4731,186.2031 Q1423.8423,185.6221 1423.2488,185.3523 Q1422.6553,185.0825 1422.0244,185.0825 Q1420.6797,185.0825 1419.9949,186.1492 Q1419.3101,187.2158 1419.3101,189.3159 Q1419.3101,191.4077 1419.9949,192.4744 Q1420.6797,193.541 1422.0244,193.541 Q1422.6553,193.541 1423.2488,193.2712 Q1423.8423,193.0015 1424.4731,192.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1436.5" y="194.791">DistributionZoneManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="1403" x2="1618" y1="205.5" y2="205.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="1408" y="223.0352">List&lt;DistributionZone&gt; zones</text><line style="stroke:#181818;stroke-width:0.5;" x1="1403" x2="1618" y1="229.9883" y2="229.9883"/></g><!--class DistributionZone--><g id="elem_DistributionZone"><rect codeLine="7" fill="#F1F1F1" height="64.4883" id="DistributionZone" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="1406" y="430.5"/><ellipse cx="1448.9" cy="446.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1451.8731,452.1431 Q1451.2921,452.4419 1450.6529,452.5913 Q1450.0138,452.7407 1449.3082,452.7407 Q1446.8014,452.7407 1445.4815,451.0889 Q1444.1617,449.437 1444.1617,446.3159 Q1444.1617,443.1865 1445.4815,441.5347 Q1446.8014,439.8828 1449.3082,439.8828 Q1450.0138,439.8828 1450.6612,440.0322 Q1451.3087,440.1816 1451.8731,440.4805 L1451.8731,443.2031 Q1451.2423,442.6221 1450.6488,442.3523 Q1450.0553,442.0825 1449.4244,442.0825 Q1448.0797,442.0825 1447.3949,443.1492 Q1446.7101,444.2158 1446.7101,446.3159 Q1446.7101,448.4077 1447.3949,449.4744 Q1448.0797,450.541 1449.4244,450.541 Q1450.0553,450.541 1450.6488,450.2712 Q1451.2423,450.0015 1451.8731,449.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="1469.1" y="451.791">DistributionZone</text><line style="stroke:#181818;stroke-width:0.5;" x1="1407" x2="1614" y1="462.5" y2="462.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="1412" y="480.0352">MvZoneStorage zoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1407" x2="1614" y1="486.9883" y2="486.9883"/></g><!--class MvPartitionStorage--><g id="elem_MvPartitionStorage"><rect codeLine="87" fill="#F1F1F1" height="427.2305" id="MvPartitionStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="858" x="850.5" y="1002"/><ellipse cx="1210.25" cy="1018" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1206.1777,1013.7651 L1206.1777,1011.6069 L1213.5571,1011.6069 L1213.5571,1013.7651 L1211.0918,1013.7651 L1211.0918,1021.8418 L1213.5571,1021.8418 L1213.5571,1024 L1206.1777,1024 L1206.1777,1021.8418 L1208.6431,1021.8418 L1208.6431,1013.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="130" x="1230.75" y="1023.291">MvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="851.5" x2="1707.5" y1="1034" y2="1034"/><line style="stroke:#181818;stroke-width:0.5;" x1="851.5" x2="1707.5" y1="1042" y2="1042"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="856.5" y="1059.5352">MvPartitionStorage createMvPartition()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="337" x="856.5" y="1076.0234">MvPartitionStorage getMvPartition(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="856.5" y="1092.5117">boolean isVolatile()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="856.5" y="1109">void destroy()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="856.5" y="1125.4883">clearPartition(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="339" x="856.5" y="1141.9766">&lt;V&gt; V runConsistently(WriteClosure&lt;V&gt; closure)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="856.5" y="1158.4648">void flush()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="856.5" y="1174.9531">long lastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="856.5" y="1191.4414">long lastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="856.5" y="1207.9297">void lastApplied(long lastAppliedIndex, long lastAppliedTerm)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="856.5" y="1224.418">long persistedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="856.5" y="1240.9063">byte[] committedGroupConfiguration()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341" x="856.5" y="1257.3945">void committedGroupConfiguration(byte[] config)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="856.5" y="1273.8828">ReadResult read(int tableId, RowId rowId, HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="846" x="856.5" y="1290.3711">BinaryRow addWrite(int tableId, RowId rowId, @Nullable BinaryRow row, UUID txId, int commitTableId, int commitPartitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319" x="856.5" y="1306.8594">BinaryRow abortWrite(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="496" x="856.5" y="1323.3477">void commitWrite(int tableId, RowId rowId, HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="783" x="856.5" y="1339.8359">void addWriteCommitted(int tableId, RowId rowId, @Nullable BinaryRow row, HybridTimestamp commitTimestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="411" x="856.5" y="1356.3242">Cursor&lt;ReadResult&gt; scanVersions(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="423" x="856.5" y="1372.8125">PartitionTimestampCursor scan(HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="350" x="856.5" y="1389.3008">RowId closestRowId(int tableId, RowId lowerBound)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="856.5" y="1405.7891">GcEntry peek(HybridTimestamp lowWatermark)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="856.5" y="1422.2773">BinaryRow vacuum(GcEntry entry)</text></g><!--class TableManager--><g id="elem_TableManager"><rect codeLine="19" fill="#F1F1F1" height="64.4883" id="TableManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="480" x="2544.5" y="15.5"/><ellipse cx="2731.25" cy="31.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2734.2231,37.1431 Q2733.6421,37.4419 2733.0029,37.5913 Q2732.3638,37.7407 2731.6582,37.7407 Q2729.1514,37.7407 2727.8315,36.0889 Q2726.5117,34.437 2726.5117,31.3159 Q2726.5117,28.1865 2727.8315,26.5347 Q2729.1514,24.8828 2731.6582,24.8828 Q2732.3638,24.8828 2733.0112,25.0322 Q2733.6587,25.1816 2734.2231,25.4805 L2734.2231,28.2031 Q2733.5923,27.6221 2732.9988,27.3523 Q2732.4053,27.0825 2731.7744,27.0825 Q2730.4297,27.0825 2729.7449,28.1492 Q2729.0601,29.2158 2729.0601,31.3159 Q2729.0601,33.4077 2729.7449,34.4744 Q2730.4297,35.541 2731.7744,35.541 Q2732.4053,35.541 2732.9988,35.2712 Q2733.5923,35.0015 2734.2231,34.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="2751.75" y="36.791">TableManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="2545.5" x2="3023.5" y1="47.5" y2="47.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="468" x="2550.5" y="65.0352">IncrementalVersionedValue&lt;Map&lt;Integer, TableImpl&gt;&gt; tableByIdVv</text><line style="stroke:#181818;stroke-width:0.5;" x1="2545.5" x2="3023.5" y1="71.9883" y2="71.9883"/></g><!--class TableImpl--><g id="elem_TableImpl"><rect codeLine="23" fill="#F1F1F1" height="64.4883" id="TableImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="2722" y="173.5"/><ellipse cx="2748.25" cy="189.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2751.2231,195.1431 Q2750.6421,195.4419 2750.0029,195.5913 Q2749.3638,195.7407 2748.6582,195.7407 Q2746.1514,195.7407 2744.8315,194.0889 Q2743.5117,192.437 2743.5117,189.3159 Q2743.5117,186.1865 2744.8315,184.5347 Q2746.1514,182.8828 2748.6582,182.8828 Q2749.3638,182.8828 2750.0112,183.0322 Q2750.6587,183.1816 2751.2231,183.4805 L2751.2231,186.2031 Q2750.5923,185.6221 2749.9988,185.3523 Q2749.4053,185.0825 2748.7744,185.0825 Q2747.4297,185.0825 2746.7449,186.1492 Q2746.0601,187.2158 2746.0601,189.3159 Q2746.0601,191.4077 2746.7449,192.4744 Q2747.4297,193.541 2748.7744,193.541 Q2749.4053,193.541 2749.9988,193.2712 Q2750.5923,193.0015 2751.2231,192.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2764.75" y="194.791">TableImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="2723" x2="2846" y1="205.5" y2="205.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="2728" y="223.0352">InternalTable tbl</text><line style="stroke:#181818;stroke-width:0.5;" x1="2723" x2="2846" y1="229.9883" y2="229.9883"/></g><!--class InternalTableImpl--><g id="elem_InternalTableImpl"><rect codeLine="27" fill="#F1F1F1" height="80.9766" id="InternalTableImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="260" x="2601.5" y="422"/><ellipse cx="2666.75" cy="438" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2669.7231,443.6431 Q2669.1421,443.9419 2668.5029,444.0913 Q2667.8638,444.2407 2667.1582,444.2407 Q2664.6514,444.2407 2663.3315,442.5889 Q2662.0117,440.937 2662.0117,437.8159 Q2662.0117,434.6865 2663.3315,433.0347 Q2664.6514,431.3828 2667.1582,431.3828 Q2667.8638,431.3828 2668.5112,431.5322 Q2669.1587,431.6816 2669.7231,431.9805 L2669.7231,434.7031 Q2669.0923,434.1221 2668.4988,433.8523 Q2667.9053,433.5825 2667.2744,433.5825 Q2665.9297,433.5825 2665.2449,434.6492 Q2664.5601,435.7158 2664.5601,437.8159 Q2664.5601,439.9077 2665.2449,440.9744 Q2665.9297,442.041 2667.2744,442.041 Q2667.9053,442.041 2668.4988,441.7712 Q2669.0923,441.5015 2669.7231,440.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="2687.25" y="443.291">InternalTableImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="2602.5" x2="2860.5" y1="454" y2="454"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="2607.5" y="471.5352">MvZoneStorage zoneStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="2607.5" y="488.0234">TxStateTableStorage txStateStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2602.5" x2="2860.5" y1="494.9766" y2="494.9766"/></g><!--class MvZoneStorage--><g id="elem_MvZoneStorage"><rect codeLine="32" fill="#F1F1F1" height="130.4414" id="MvZoneStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="349" x="1105" y="737"/><ellipse cx="1222.25" cy="753" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1218.1777,748.7651 L1218.1777,746.6069 L1225.5571,746.6069 L1225.5571,748.7651 L1223.0918,748.7651 L1223.0918,756.8418 L1225.5571,756.8418 L1225.5571,759 L1218.1777,759 L1218.1777,756.8418 L1220.6431,756.8418 L1220.6431,748.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="1242.75" y="758.291">MvZoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1106" x2="1453" y1="769" y2="769"/><line style="stroke:#181818;stroke-width:0.5;" x1="1106" x2="1453" y1="777" y2="777"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="1111" y="794.5352">MvPartitionStorage createMvPartition()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="337" x="1111" y="811.0234">MvPartitionStorage getMvPartition(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1111" y="827.5117">boolean isVolatile();</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1111" y="844">void destroy()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="1111" y="860.4883">clearPartition(int partitionId)</text></g><!--class PersistentPageMemoryZoneStorage--><g id="elem_PersistentPageMemoryZoneStorage"><rect codeLine="40" fill="#F1F1F1" height="48" id="PersistentPageMemoryZoneStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274" x="1096.5" y="438.5"/><ellipse cx="1111.5" cy="454.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1114.4731,460.1431 Q1113.8921,460.4419 1113.2529,460.5913 Q1112.6138,460.7407 1111.9082,460.7407 Q1109.4014,460.7407 1108.0815,459.0889 Q1106.7617,457.437 1106.7617,454.3159 Q1106.7617,451.1865 1108.0815,449.5347 Q1109.4014,447.8828 1111.9082,447.8828 Q1112.6138,447.8828 1113.2612,448.0322 Q1113.9087,448.1816 1114.4731,448.4805 L1114.4731,451.2031 Q1113.8423,450.6221 1113.2488,450.3523 Q1112.6553,450.0825 1112.0244,450.0825 Q1110.6797,450.0825 1109.9949,451.1492 Q1109.3101,452.2158 1109.3101,454.3159 Q1109.3101,456.4077 1109.9949,457.4744 Q1110.6797,458.541 1112.0244,458.541 Q1112.6553,458.541 1113.2488,458.2712 Q1113.8423,458.0015 1114.4731,457.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="1125.5" y="459.791">PersistentPageMemoryZoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1097.5" x2="1369.5" y1="470.5" y2="470.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1097.5" x2="1369.5" y1="478.5" y2="478.5"/></g><!--class RocksDbZoneStorage--><g id="elem_RocksDbZoneStorage"><rect codeLine="41" fill="#F1F1F1" height="64.4883" id="RocksDbZoneStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="590.5" y="430.5"/><ellipse cx="605.5" cy="446.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M608.4731,452.1431 Q607.8921,452.4419 607.2529,452.5913 Q606.6138,452.7407 605.9082,452.7407 Q603.4014,452.7407 602.0815,451.0889 Q600.7617,449.437 600.7617,446.3159 Q600.7617,443.1865 602.0815,441.5347 Q603.4014,439.8828 605.9082,439.8828 Q606.6138,439.8828 607.2612,440.0322 Q607.9087,440.1816 608.4731,440.4805 L608.4731,443.2031 Q607.8423,442.6221 607.2488,442.3523 Q606.6553,442.0825 606.0244,442.0825 Q604.6797,442.0825 603.9949,443.1492 Q603.3101,444.2158 603.3101,446.3159 Q603.3101,448.4077 603.9949,449.4744 Q604.6797,450.541 606.0244,450.541 Q606.6553,450.541 607.2488,450.2712 Q607.8423,450.0015 608.4731,449.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="619.5" y="451.791">RocksDbZoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="591.5" x2="767.5" y1="462.5" y2="462.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="596.5" y="480.0352">RocksDB db</text><line style="stroke:#181818;stroke-width:0.5;" x1="591.5" x2="767.5" y1="486.9883" y2="486.9883"/></g><!--class VolatilePageMemoryZoneStorage--><g id="elem_VolatilePageMemoryZoneStorage"><rect codeLine="44" fill="#F1F1F1" height="48" id="VolatilePageMemoryZoneStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="258" x="803.5" y="438.5"/><ellipse cx="818.5" cy="454.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M821.4731,460.1431 Q820.8921,460.4419 820.2529,460.5913 Q819.6138,460.7407 818.9082,460.7407 Q816.4014,460.7407 815.0815,459.0889 Q813.7617,457.437 813.7617,454.3159 Q813.7617,451.1865 815.0815,449.5347 Q816.4014,447.8828 818.9082,447.8828 Q819.6138,447.8828 820.2612,448.0322 Q820.9087,448.1816 821.4731,448.4805 L821.4731,451.2031 Q820.8423,450.6221 820.2488,450.3523 Q819.6553,450.0825 819.0244,450.0825 Q817.6797,450.0825 816.9949,451.1492 Q816.3101,452.2158 816.3101,454.3159 Q816.3101,456.4077 816.9949,457.4744 Q817.6797,458.541 819.0244,458.541 Q819.6553,458.541 820.2488,458.2712 Q820.8423,458.0015 821.4731,457.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="832.5" y="459.791">VolatilePageMemoryZoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="804.5" x2="1060.5" y1="470.5" y2="470.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="804.5" x2="1060.5" y1="478.5" y2="478.5"/></g><!--class RocksDB--><g id="elem_RocksDB"><rect codeLine="46" fill="#F1F1F1" height="48" id="RocksDB" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="979.5" y="778"/><ellipse cx="994.5" cy="794" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M997.4731,799.6431 Q996.8921,799.9419 996.2529,800.0913 Q995.6138,800.2407 994.9082,800.2407 Q992.4014,800.2407 991.0815,798.5889 Q989.7617,796.937 989.7617,793.8159 Q989.7617,790.6865 991.0815,789.0347 Q992.4014,787.3828 994.9082,787.3828 Q995.6138,787.3828 996.2612,787.5322 Q996.9087,787.6816 997.4731,787.9805 L997.4731,790.7031 Q996.8423,790.1221 996.2488,789.8523 Q995.6553,789.5825 995.0244,789.5825 Q993.6797,789.5825 992.9949,790.6492 Q992.3101,791.7158 992.3101,793.8159 Q992.3101,795.9077 992.9949,796.9744 Q993.6797,798.041 995.0244,798.041 Q995.6553,798.041 996.2488,797.7712 Q996.8423,797.5015 997.4731,796.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1008.5" y="799.291">RocksDB</text><line style="stroke:#181818;stroke-width:0.5;" x1="980.5" x2="1068.5" y1="810" y2="810"/><line style="stroke:#181818;stroke-width:0.5;" x1="980.5" x2="1068.5" y1="818" y2="818"/></g><!--class TxStateTableStorage--><g id="elem_TxStateTableStorage"><rect codeLine="50" fill="#F1F1F1" height="130.4414" id="TxStateTableStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="414" x="3417.5" y="737"/><ellipse cx="3548.75" cy="753" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3544.6777,748.7651 L3544.6777,746.6069 L3552.0571,746.6069 L3552.0571,748.7651 L3549.5918,748.7651 L3549.5918,756.8418 L3552.0571,756.8418 L3552.0571,759 L3544.6777,759 L3544.6777,756.8418 L3547.1431,756.8418 L3547.1431,748.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="143" x="3569.25" y="758.291">TxStateTableStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3418.5" x2="3830.5" y1="769" y2="769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402" x="3423.5" y="786.5352">AtomicReferenceArray&lt;TxStateRocksDbStorage&gt; storages</text><line style="stroke:#181818;stroke-width:0.5;" x1="3418.5" x2="3830.5" y1="793.4883" y2="793.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402" x="3423.5" y="811.0234">TxStateStorage getOrCreateTxStateStorage(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="340" x="3423.5" y="827.5117">TxStateStorage getTxStateStorage(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293" x="3423.5" y="844">void destroyTxStateStorage(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="3423.5" y="860.4883">void destroy()</text></g><!--class TxStateStorage--><g id="elem_TxStateStorage"><rect codeLine="58" fill="#F1F1F1" height="245.8594" id="TxStateStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="910" x="3429.5" y="1092.5"/><ellipse cx="3827.75" cy="1108.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3823.6777,1104.2651 L3823.6777,1102.1069 L3831.0571,1102.1069 L3831.0571,1104.2651 L3828.5918,1104.2651 L3828.5918,1112.3418 L3831.0571,1112.3418 L3831.0571,1114.5 L3823.6777,1114.5 L3823.6777,1112.3418 L3826.1431,1112.3418 L3826.1431,1104.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105" x="3848.25" y="1113.791">TxStateStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3430.5" x2="4338.5" y1="1124.5" y2="1124.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="3430.5" x2="4338.5" y1="1132.5" y2="1132.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="3435.5" y="1150.0352">TxMeta get(UUID txId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="3435.5" y="1166.5234">void put(UUID txId, TxMeta txMeta)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="898" x="3435.5" y="1183.0117">boolean compareAndSet(UUID txId, @Nullable TxState txStateExpected, TxMeta txMeta, long commandIndex, long commandTerm)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="3435.5" y="1199.5">void remove(UUID txId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319" x="3435.5" y="1215.9883">Cursor&lt;IgniteBiTuple&lt;UUID, TxMeta&gt;&gt; scan()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="3435.5" y="1232.4766">CompletableFuture&lt;Void&gt; flush()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="3435.5" y="1248.9648">long lastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="3435.5" y="1265.4531">long lastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="3435.5" y="1281.9414">void lastApplied(long lastAppliedIndex, long lastAppliedTerm)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="3435.5" y="1298.4297">long persistedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="3435.5" y="1314.918">void close()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="3435.5" y="1331.4063">void _destroy()</text></g><!--class TxStateRocksDbStorage--><g id="elem_TxStateRocksDbStorage"><rect codeLine="73" fill="#F1F1F1" height="48" id="TxStateRocksDbStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="3937.5" y="778"/><ellipse cx="3952.5" cy="794" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3955.4731,799.6431 Q3954.8921,799.9419 3954.2529,800.0913 Q3953.6138,800.2407 3952.9082,800.2407 Q3950.4014,800.2407 3949.0815,798.5889 Q3947.7617,796.937 3947.7617,793.8159 Q3947.7617,790.6865 3949.0815,789.0347 Q3950.4014,787.3828 3952.9082,787.3828 Q3953.6138,787.3828 3954.2612,787.5322 Q3954.9087,787.6816 3955.4731,787.9805 L3955.4731,790.7031 Q3954.8423,790.1221 3954.2488,789.8523 Q3953.6553,789.5825 3953.0244,789.5825 Q3951.6797,789.5825 3950.9949,790.6492 Q3950.3101,791.7158 3950.3101,793.8159 Q3950.3101,795.9077 3950.9949,796.9744 Q3951.6797,798.041 3953.0244,798.041 Q3953.6553,798.041 3954.2488,797.7712 Q3954.8423,797.5015 3955.4731,796.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="3966.5" y="799.291">TxStateRocksDbStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3938.5" x2="4132.5" y1="810" y2="810"/><line style="stroke:#181818;stroke-width:0.5;" x1="3938.5" x2="4132.5" y1="818" y2="818"/></g><!--class TxMeta--><g id="elem_TxMeta"><rect codeLine="76" fill="#F1F1F1" height="97.4648" id="TxMeta" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="289" x="3740" y="1490"/><ellipse cx="3854.75" cy="1506" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3857.7231,1511.6431 Q3857.1421,1511.9419 3856.5029,1512.0913 Q3855.8638,1512.2407 3855.1582,1512.2407 Q3852.6514,1512.2407 3851.3315,1510.5889 Q3850.0117,1508.937 3850.0117,1505.8159 Q3850.0117,1502.6865 3851.3315,1501.0347 Q3852.6514,1499.3828 3855.1582,1499.3828 Q3855.8638,1499.3828 3856.5112,1499.5322 Q3857.1587,1499.6816 3857.7231,1499.9805 L3857.7231,1502.7031 Q3857.0923,1502.1221 3856.4988,1501.8523 Q3855.9053,1501.5825 3855.2744,1501.5825 Q3853.9297,1501.5825 3853.2449,1502.6492 Q3852.5601,1503.7158 3852.5601,1505.8159 Q3852.5601,1507.9077 3853.2449,1508.9744 Q3853.9297,1510.041 3855.2744,1510.041 Q3855.9053,1510.041 3856.4988,1509.7712 Q3857.0923,1509.5015 3857.7231,1508.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="3875.25" y="1511.291">TxMeta</text><line style="stroke:#181818;stroke-width:0.5;" x1="3741" x2="4028" y1="1522" y2="1522"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="3746" y="1539.5352">TxState txState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="3746" y="1556.0234">List&lt;TablePartitionId&gt; enlistedPartitions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252" x="3746" y="1572.5117">HybridTimestamp commitTimestamp</text><line style="stroke:#181818;stroke-width:0.5;" x1="3741" x2="4028" y1="1579.4648" y2="1579.4648"/></g><!--class TxState--><g id="elem_TxState"><rect codeLine="82" fill="#F1F1F1" height="80.9766" id="TxState" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="3840.5" y="1648"/><ellipse cx="3857.3" cy="1664" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3861.4143,1670 L3853.6945,1670 L3853.6945,1657.6069 L3861.4143,1657.6069 L3861.4143,1659.7651 L3856.1433,1659.7651 L3856.1433,1662.438 L3860.9162,1662.438 L3860.9162,1664.5962 L3856.1433,1664.5962 L3856.1433,1667.8418 L3861.4143,1667.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="3871.7" y="1669.291">TxState</text><line style="stroke:#181818;stroke-width:0.5;" x1="3841.5" x2="3927.5" y1="1680" y2="1680"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3846.5" y="1697.5352">ABORTED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="3846.5" y="1714.0234">COMMITED</text><line style="stroke:#181818;stroke-width:0.5;" x1="3841.5" x2="3927.5" y1="1720.9766" y2="1720.9766"/></g><!--class PersistentPageMemoryMvPartitionStorage--><g id="elem_PersistentPageMemoryMvPartitionStorage"><rect codeLine="108" fill="#F1F1F1" height="48" id="PersistentPageMemoryMvPartitionStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="317" x="7" y="778"/><ellipse cx="22" cy="794" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.9731,799.6431 Q24.3921,799.9419 23.7529,800.0913 Q23.1138,800.2407 22.4082,800.2407 Q19.9014,800.2407 18.5815,798.5889 Q17.2617,796.937 17.2617,793.8159 Q17.2617,790.6865 18.5815,789.0347 Q19.9014,787.3828 22.4082,787.3828 Q23.1138,787.3828 23.7612,787.5322 Q24.4087,787.6816 24.9731,787.9805 L24.9731,790.7031 Q24.3423,790.1221 23.7488,789.8523 Q23.1553,789.5825 22.5244,789.5825 Q21.1797,789.5825 20.4949,790.6492 Q19.8101,791.7158 19.8101,793.8159 Q19.8101,795.9077 20.4949,796.9744 Q21.1797,798.041 22.5244,798.041 Q23.1553,798.041 23.7488,797.7712 Q24.3423,797.5015 24.9731,796.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="36" y="799.291">PersistentPageMemoryMvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="323" y1="810" y2="810"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="323" y1="818" y2="818"/></g><!--class VolatilePageMemoryMvPartitionStorage--><g id="elem_VolatilePageMemoryMvPartitionStorage"><rect codeLine="109" fill="#F1F1F1" height="48" id="VolatilePageMemoryMvPartitionStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="301" x="359" y="778"/><ellipse cx="374" cy="794" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M376.9731,799.6431 Q376.3921,799.9419 375.7529,800.0913 Q375.1138,800.2407 374.4082,800.2407 Q371.9014,800.2407 370.5815,798.5889 Q369.2617,796.937 369.2617,793.8159 Q369.2617,790.6865 370.5815,789.0347 Q371.9014,787.3828 374.4082,787.3828 Q375.1138,787.3828 375.7612,787.5322 Q376.4087,787.6816 376.9731,787.9805 L376.9731,790.7031 Q376.3423,790.1221 375.7488,789.8523 Q375.1553,789.5825 374.5244,789.5825 Q373.1797,789.5825 372.4949,790.6492 Q371.8101,791.7158 371.8101,793.8159 Q371.8101,795.9077 372.4949,796.9744 Q373.1797,798.041 374.5244,798.041 Q375.1553,798.041 375.7488,797.7712 Q376.3423,797.5015 376.9731,796.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="388" y="799.291">VolatilePageMemoryMvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="360" x2="659" y1="810" y2="810"/><line style="stroke:#181818;stroke-width:0.5;" x1="360" x2="659" y1="818" y2="818"/></g><!--class RocksDbMvPartitionStorage--><g id="elem_RocksDbMvPartitionStorage"><rect codeLine="110" fill="#F1F1F1" height="64.4883" id="RocksDbMvPartitionStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="695" y="770"/><ellipse cx="722.6" cy="786" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M725.5731,791.6431 Q724.9921,791.9419 724.3529,792.0913 Q723.7138,792.2407 723.0082,792.2407 Q720.5014,792.2407 719.1815,790.5889 Q717.8617,788.937 717.8617,785.8159 Q717.8617,782.6865 719.1815,781.0347 Q720.5014,779.3828 723.0082,779.3828 Q723.7138,779.3828 724.3612,779.5322 Q725.0087,779.6816 725.5731,779.9805 L725.5731,782.7031 Q724.9423,782.1221 724.3488,781.8523 Q723.7553,781.5825 723.1244,781.5825 Q721.7797,781.5825 721.0949,782.6492 Q720.4101,783.7158 720.4101,785.8159 Q720.4101,787.9077 721.0949,788.9744 Q721.7797,790.041 723.1244,790.041 Q723.7553,790.041 724.3488,789.7712 Q724.9423,789.5015 725.5731,788.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="739.4" y="791.291">RocksDbMvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="696" x2="943" y1="802" y2="802"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="701" y="819.5352">RocksDbZoneStorage zoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="696" x2="943" y1="826.4883" y2="826.4883"/></g><!--class ReplicaListener--><g id="elem_ReplicaListener"><rect codeLine="114" fill="#F1F1F1" height="97.4648" id="ReplicaListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="391" x="1576" y="753.5"/><ellipse cx="1715.75" cy="769.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1711.6777,765.2651 L1711.6777,763.1069 L1719.0571,763.1069 L1719.0571,765.2651 L1716.5918,765.2651 L1716.5918,773.3418 L1719.0571,773.3418 L1719.0571,775.5 L1711.6777,775.5 L1711.6777,773.3418 L1714.1431,773.3418 L1714.1431,765.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="103" x="1736.25" y="774.791">ReplicaListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="1577" x2="1966" y1="785.5" y2="785.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1577" x2="1966" y1="793.5" y2="793.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="379" x="1582" y="811.0352">CompletableFuture&lt;?&gt; invoke(ReplicaRequest request)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="337" x="1582" y="827.5234">void onBecomePrimary(ClusterNode clusterNode)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1582" y="844.0117">void onShutdown()</text></g><!--class PartitionReplicaListener--><g id="elem_PartitionReplicaListener"><rect codeLine="120" fill="#F1F1F1" height="97.4648" id="PartitionReplicaListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="337" x="1650" y="414"/><ellipse cx="1733.75" cy="430" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1736.7231,435.6431 Q1736.1421,435.9419 1735.5029,436.0913 Q1734.8638,436.2407 1734.1582,436.2407 Q1731.6514,436.2407 1730.3315,434.5889 Q1729.0117,432.937 1729.0117,429.8159 Q1729.0117,426.6865 1730.3315,425.0347 Q1731.6514,423.3828 1734.1582,423.3828 Q1734.8638,423.3828 1735.5112,423.5322 Q1736.1587,423.6816 1736.7231,423.9805 L1736.7231,426.7031 Q1736.0923,426.1221 1735.4988,425.8523 Q1734.9053,425.5825 1734.2744,425.5825 Q1732.9297,425.5825 1732.2449,426.6492 Q1731.5601,427.7158 1731.5601,429.8159 Q1731.5601,431.9077 1732.2449,432.9744 Q1732.9297,434.041 1734.2744,434.041 Q1734.9053,434.041 1735.4988,433.7712 Q1736.0923,433.5015 1736.7231,432.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1754.25" y="435.291">PartitionReplicaListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="1651" x2="1986" y1="446" y2="446"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="1656" y="463.5352">MvPartitionStorage mvDataStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325" x="1656" y="480.0234">Map&lt;Integer, TxStateStorage&gt; txStateStorages</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="1656" y="496.5117">MvZoneStorage zoneStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1651" x2="1986" y1="503.4648" y2="503.4648"/></g><path d="M2022.5,445 L2022.5,453.6553 L1981,474.7324 L2022.5,461.6553 L2022.5,470.3105 A0,0 0 0 0 2022.5,470.3105 L2282.5,470.3105 A0,0 0 0 0 2282.5,470.3105 L2282.5,455 L2272.5,445 L2022.5,445 A0,0 0 0 0 2022.5,445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2272.5,445 L2272.5,455 L2282.5,455 L2272.5,445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="2028.5" y="462.5684">One listener handles many tables now</text><!--class ReplicaManager--><g id="elem_ReplicaManager"><rect codeLine="129" fill="#F1F1F1" height="64.4883" id="ReplicaManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="575" x="2112" y="173.5"/><ellipse cx="2340.75" cy="189.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2343.7231,195.1431 Q2343.1421,195.4419 2342.5029,195.5913 Q2341.8638,195.7407 2341.1582,195.7407 Q2338.6514,195.7407 2337.3315,194.0889 Q2336.0117,192.437 2336.0117,189.3159 Q2336.0117,186.1865 2337.3315,184.5347 Q2338.6514,182.8828 2341.1582,182.8828 Q2341.8638,182.8828 2342.5112,183.0322 Q2343.1587,183.1816 2343.7231,183.4805 L2343.7231,186.2031 Q2343.0923,185.6221 2342.4988,185.3523 Q2341.9053,185.0825 2341.2744,185.0825 Q2339.9297,185.0825 2339.2449,186.1492 Q2338.5601,187.2158 2338.5601,189.3159 Q2338.5601,191.4077 2339.2449,192.4744 Q2339.9297,193.541 2341.2744,193.541 Q2341.9053,193.541 2342.4988,193.2712 Q2343.0923,193.0015 2343.7231,192.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="2361.25" y="194.791">ReplicaManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="2113" x2="2686" y1="205.5" y2="205.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="563" x="2118" y="223.0352">ConcurrentHashMap&lt;ReplicationGroupId, CompletableFuture&lt;Replica&gt;&gt; replicas</text><line style="stroke:#181818;stroke-width:0.5;" x1="2113" x2="2686" y1="229.9883" y2="229.9883"/></g><!--class Replica--><g id="elem_Replica"><rect codeLine="133" fill="#F1F1F1" height="64.4883" id="Replica" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="2317.5" y="430.5"/><ellipse cx="2373.75" cy="446.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2376.7231,452.1431 Q2376.1421,452.4419 2375.5029,452.5913 Q2374.8638,452.7407 2374.1582,452.7407 Q2371.6514,452.7407 2370.3315,451.0889 Q2369.0117,449.437 2369.0117,446.3159 Q2369.0117,443.1865 2370.3315,441.5347 Q2371.6514,439.8828 2374.1582,439.8828 Q2374.8638,439.8828 2375.5112,440.0322 Q2376.1587,440.1816 2376.7231,440.4805 L2376.7231,443.2031 Q2376.0923,442.6221 2375.4988,442.3523 Q2374.9053,442.0825 2374.2744,442.0825 Q2372.9297,442.0825 2372.2449,443.1492 Q2371.5601,444.2158 2371.5601,446.3159 Q2371.5601,448.4077 2372.2449,449.4744 Q2372.9297,450.541 2374.2744,450.541 Q2374.9053,450.541 2375.4988,450.2712 Q2376.0923,450.0015 2376.7231,449.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="2394.25" y="451.791">Replica</text><line style="stroke:#181818;stroke-width:0.5;" x1="2318.5" x2="2486.5" y1="462.5" y2="462.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="2323.5" y="480.0352">ReplicaListener listener</text><line style="stroke:#181818;stroke-width:0.5;" x1="2318.5" x2="2486.5" y1="486.9883" y2="486.9883"/></g><!--class RaftGroupListener--><g id="elem_RaftGroupListener"><rect codeLine="137" fill="#F1F1F1" height="163.418" id="RaftGroupListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="488" x="5269.5" y="720.5"/><ellipse cx="5447.25" cy="736.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5443.1777,732.2651 L5443.1777,730.1069 L5450.5571,730.1069 L5450.5571,732.2651 L5448.0918,732.2651 L5448.0918,740.3418 L5450.5571,740.3418 L5450.5571,742.5 L5443.1777,742.5 L5443.1777,740.3418 L5445.6431,740.3418 L5445.6431,732.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124" x="5467.75" y="741.791">RaftGroupListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="5270.5" x2="5756.5" y1="752.5" y2="752.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="5270.5" x2="5756.5" y1="760.5" y2="760.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474" x="5275.5" y="778.0352">void onRead(Iterator&lt;CommandClosure&lt;ReadCommand&gt;&gt; iterator)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="476" x="5275.5" y="794.5234">void onWrite(Iterator&lt;CommandClosure&lt;WriteCommand&gt;&gt; iterator)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="452" x="5275.5" y="811.0117">void onConfigurationCommitted(CommittedConfiguration config)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="457" x="5275.5" y="827.5">void onSnapshotSave(Path path, Consumer&lt;Throwable&gt; doneClo)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="5275.5" y="843.9883">boolean onSnapshotLoad(Path path)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="5275.5" y="860.4766">void onShutdown()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287" x="5275.5" y="876.9648">void onBeforeApply(Command command)</text></g><!--class CmgRaftGroupListener--><g id="elem_CmgRaftGroupListener"><rect codeLine="147" fill="#F1F1F1" height="48" id="CmgRaftGroupListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="5204.5" y="438.5"/><ellipse cx="5219.5" cy="454.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5222.4731,460.1431 Q5221.8921,460.4419 5221.2529,460.5913 Q5220.6138,460.7407 5219.9082,460.7407 Q5217.4014,460.7407 5216.0815,459.0889 Q5214.7617,457.437 5214.7617,454.3159 Q5214.7617,451.1865 5216.0815,449.5347 Q5217.4014,447.8828 5219.9082,447.8828 Q5220.6138,447.8828 5221.2612,448.0322 Q5221.9087,448.1816 5222.4731,448.4805 L5222.4731,451.2031 Q5221.8423,450.6221 5221.2488,450.3523 Q5220.6553,450.0825 5220.0244,450.0825 Q5218.6797,450.0825 5217.9949,451.1492 Q5217.3101,452.2158 5217.3101,454.3159 Q5217.3101,456.4077 5217.9949,457.4744 Q5218.6797,458.541 5220.0244,458.541 Q5220.6553,458.541 5221.2488,458.2712 Q5221.8423,458.0015 5222.4731,457.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="5233.5" y="459.791">CmgRaftGroupListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="5205.5" x2="5391.5" y1="470.5" y2="470.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="5205.5" x2="5391.5" y1="478.5" y2="478.5"/></g><!--class MetaStorageListener--><g id="elem_MetaStorageListener"><rect codeLine="148" fill="#F1F1F1" height="48" id="MetaStorageListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="5427.5" y="438.5"/><ellipse cx="5442.5" cy="454.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5445.4731,460.1431 Q5444.8921,460.4419 5444.2529,460.5913 Q5443.6138,460.7407 5442.9082,460.7407 Q5440.4014,460.7407 5439.0815,459.0889 Q5437.7617,457.437 5437.7617,454.3159 Q5437.7617,451.1865 5439.0815,449.5347 Q5440.4014,447.8828 5442.9082,447.8828 Q5443.6138,447.8828 5444.2612,448.0322 Q5444.9087,448.1816 5445.4731,448.4805 L5445.4731,451.2031 Q5444.8423,450.6221 5444.2488,450.3523 Q5443.6553,450.0825 5443.0244,450.0825 Q5441.6797,450.0825 5440.9949,451.1492 Q5440.3101,452.2158 5440.3101,454.3159 Q5440.3101,456.4077 5440.9949,457.4744 Q5441.6797,458.541 5443.0244,458.541 Q5443.6553,458.541 5444.2488,458.2712 Q5444.8423,458.0015 5445.4731,457.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="5456.5" y="459.791">MetaStorageListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="5428.5" x2="5598.5" y1="470.5" y2="470.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="5428.5" x2="5598.5" y1="478.5" y2="478.5"/></g><!--class PartitionListener--><g id="elem_PartitionListener"><rect codeLine="149" fill="#F1F1F1" height="80.9766" id="PartitionListener" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="337" x="2897" y="422"/><ellipse cx="3005.25" cy="438" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3008.2231,443.6431 Q3007.6421,443.9419 3007.0029,444.0913 Q3006.3638,444.2407 3005.6582,444.2407 Q3003.1514,444.2407 3001.8315,442.5889 Q3000.5117,440.937 3000.5117,437.8159 Q3000.5117,434.6865 3001.8315,433.0347 Q3003.1514,431.3828 3005.6582,431.3828 Q3006.3638,431.3828 3007.0112,431.5322 Q3007.6587,431.6816 3008.2231,431.9805 L3008.2231,434.7031 Q3007.5923,434.1221 3006.9988,433.8523 Q3006.4053,433.5825 3005.7744,433.5825 Q3004.4297,433.5825 3003.7449,434.6492 Q3003.0601,435.7158 3003.0601,437.8159 Q3003.0601,439.9077 3003.7449,440.9744 Q3004.4297,442.041 3005.7744,442.041 Q3006.4053,442.041 3006.9988,441.7712 Q3007.5923,441.5015 3008.2231,440.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="3025.75" y="443.291">PartitionListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="2898" x2="3233" y1="454" y2="454"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="2903" y="471.5352">StorageUpdateHandler storageUpdateHandle</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325" x="2903" y="488.0234">Map&lt;Integer, TxStateStorage&gt; txStateStorages</text><line style="stroke:#181818;stroke-width:0.5;" x1="2898" x2="3233" y1="494.9766" y2="494.9766"/></g><path d="M3269.5,445 L3269.5,453.6553 L3228,482.7324 L3269.5,461.6553 L3269.5,470.3105 A0,0 0 0 0 3269.5,470.3105 L3529.5,470.3105 A0,0 0 0 0 3529.5,470.3105 L3529.5,455 L3519.5,445 L3269.5,445 A0,0 0 0 0 3269.5,445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3519.5,445 L3519.5,455 L3529.5,455 L3519.5,445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="3275.5" y="462.5684">One listener handles many tables now</text><!--class StorageUpdateHandler--><g id="elem_StorageUpdateHandler"><rect codeLine="157" fill="#F1F1F1" height="80.9766" id="StorageUpdateHandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="300" x="3011.5" y="761.5"/><ellipse cx="3079.25" cy="777.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3082.2231,783.1431 Q3081.6421,783.4419 3081.0029,783.5913 Q3080.3638,783.7407 3079.6582,783.7407 Q3077.1514,783.7407 3075.8315,782.0889 Q3074.5117,780.437 3074.5117,777.3159 Q3074.5117,774.1865 3075.8315,772.5347 Q3077.1514,770.8828 3079.6582,770.8828 Q3080.3638,770.8828 3081.0112,771.0322 Q3081.6587,771.1816 3082.2231,771.4805 L3082.2231,774.2031 Q3081.5923,773.6221 3080.9988,773.3523 Q3080.4053,773.0825 3079.7744,773.0825 Q3078.4297,773.0825 3077.7449,774.1492 Q3077.0601,775.2158 3077.0601,777.3159 Q3077.0601,779.4077 3077.7449,780.4744 Q3078.4297,781.541 3079.7744,781.541 Q3080.4053,781.541 3080.9988,781.2712 Q3081.5923,781.0015 3082.2231,780.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="3099.75" y="782.791">StorageUpdateHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="3012.5" x2="3310.5" y1="793.5" y2="793.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="3017.5" y="811.0352">PartitionDataStorage _storage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="3017.5" y="827.5234">IndexUpdateHandler indexUpdateHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="3012.5" x2="3310.5" y1="834.4766" y2="834.4766"/></g><!--class RaftGroupService--><g id="elem_RaftGroupService"><rect codeLine="162" fill="#F1F1F1" height="64.4883" id="RaftGroupService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="5682" y="173.5"/><ellipse cx="5717.25" cy="189.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5720.2231,195.1431 Q5719.6421,195.4419 5719.0029,195.5913 Q5718.3638,195.7407 5717.6582,195.7407 Q5715.1514,195.7407 5713.8315,194.0889 Q5712.5117,192.437 5712.5117,189.3159 Q5712.5117,186.1865 5713.8315,184.5347 Q5715.1514,182.8828 5717.6582,182.8828 Q5718.3638,182.8828 5719.0112,183.0322 Q5719.6587,183.1816 5720.2231,183.4805 L5720.2231,186.2031 Q5719.5923,185.6221 5718.9988,185.3523 Q5718.4053,185.0825 5717.7744,185.0825 Q5716.4297,185.0825 5715.7449,186.1492 Q5715.0601,187.2158 5715.0601,189.3159 Q5715.0601,191.4077 5715.7449,192.4744 Q5716.4297,193.541 5717.7744,193.541 Q5718.4053,193.541 5718.9988,193.2712 Q5719.5923,193.0015 5720.2231,192.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="5735.75" y="194.791">RaftGroupService</text><line style="stroke:#181818;stroke-width:0.5;" x1="5683" x2="5876" y1="205.5" y2="205.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="5688" y="223.0352">NodeOptions nodeOptions</text><line style="stroke:#181818;stroke-width:0.5;" x1="5683" x2="5876" y1="229.9883" y2="229.9883"/></g><!--class NodeOptions--><g id="elem_NodeOptions"><rect codeLine="166" fill="#F1F1F1" height="80.9766" id="NodeOptions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="290" x="5634.5" y="422"/><ellipse cx="5730.25" cy="438" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5733.2231,443.6431 Q5732.6421,443.9419 5732.0029,444.0913 Q5731.3638,444.2407 5730.6582,444.2407 Q5728.1514,444.2407 5726.8315,442.5889 Q5725.5117,440.937 5725.5117,437.8159 Q5725.5117,434.6865 5726.8315,433.0347 Q5728.1514,431.3828 5730.6582,431.3828 Q5731.3638,431.3828 5732.0112,431.5322 Q5732.6587,431.6816 5733.2231,431.9805 L5733.2231,434.7031 Q5732.5923,434.1221 5731.9988,433.8523 Q5731.4053,433.5825 5730.7744,433.5825 Q5729.4297,433.5825 5728.7449,434.6492 Q5728.0601,435.7158 5728.0601,437.8159 Q5728.0601,439.9077 5728.7449,440.9744 Q5729.4297,442.041 5730.7744,442.041 Q5731.4053,442.041 5731.9988,441.7712 Q5732.5923,441.5015 5733.2231,440.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="5750.75" y="443.291">NodeOptions</text><line style="stroke:#181818;stroke-width:0.5;" x1="5635.5" x2="5923.5" y1="454" y2="454"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="5640.5" y="471.5352">StateMachine fsm</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278" x="5640.5" y="488.0234">JraftGroupEventsListener raftGrpEvtsLsnr</text><line style="stroke:#181818;stroke-width:0.5;" x1="5635.5" x2="5923.5" y1="494.9766" y2="494.9766"/></g><!--class RaftServer--><g id="elem_RaftServer"><rect codeLine="171" fill="#F1F1F1" height="48" id="RaftServer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="5504.5" y="181.5"/><ellipse cx="5519.5" cy="197.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5515.4277,193.2651 L5515.4277,191.1069 L5522.8071,191.1069 L5522.8071,193.2651 L5520.3418,193.2651 L5520.3418,201.3418 L5522.8071,201.3418 L5522.8071,203.5 L5515.4277,203.5 L5515.4277,201.3418 L5517.8931,201.3418 L5517.8931,193.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="5533.5" y="202.791">RaftServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="5505.5" x2="5605.5" y1="213.5" y2="213.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="5505.5" x2="5605.5" y1="221.5" y2="221.5"/></g><!--class JraftServerImpl--><g id="elem_JraftServerImpl"><rect codeLine="173" fill="#F1F1F1" height="80.9766" id="JraftServerImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="389" x="5585" y="7"/><ellipse cx="5724.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5727.7231,28.6431 Q5727.1421,28.9419 5726.5029,29.0913 Q5725.8638,29.2407 5725.1582,29.2407 Q5722.6514,29.2407 5721.3315,27.5889 Q5720.0117,25.937 5720.0117,22.8159 Q5720.0117,19.6865 5721.3315,18.0347 Q5722.6514,16.3828 5725.1582,16.3828 Q5725.8638,16.3828 5726.5112,16.5322 Q5727.1587,16.6816 5727.7231,16.9805 L5727.7231,19.7031 Q5727.0923,19.1221 5726.4988,18.8523 Q5725.9053,18.5825 5725.2744,18.5825 Q5723.9297,18.5825 5723.2449,19.6492 Q5722.5601,20.7158 5722.5601,22.8159 Q5722.5601,24.9077 5723.2449,25.9744 Q5723.9297,27.041 5725.2744,27.041 Q5725.9053,27.041 5726.4988,26.7712 Q5727.0923,26.5015 5727.7231,25.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="5745.25" y="28.291">JraftServerImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="5586" x2="5973" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="377" x="5591" y="56.5352">ConcurrentMap&lt;RaftNodeId, RaftGroupService&gt; nodes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="5591" y="73.0234">NodeOptions opts</text><line style="stroke:#181818;stroke-width:0.5;" x1="5586" x2="5973" y1="79.9766" y2="79.9766"/></g><!--class Loza--><g id="elem_Loza"><rect codeLine="178" fill="#F1F1F1" height="80.9766" id="Loza" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="5397" y="7"/><ellipse cx="5453.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5456.2231,28.6431 Q5455.6421,28.9419 5455.0029,29.0913 Q5454.3638,29.2407 5453.6582,29.2407 Q5451.1514,29.2407 5449.8315,27.5889 Q5448.5117,25.937 5448.5117,22.8159 Q5448.5117,19.6865 5449.8315,18.0347 Q5451.1514,16.3828 5453.6582,16.3828 Q5454.3638,16.3828 5455.0112,16.5322 Q5455.6587,16.6816 5456.2231,16.9805 L5456.2231,19.7031 Q5455.5923,19.1221 5454.9988,18.8523 Q5454.4053,18.5825 5453.7744,18.5825 Q5452.4297,18.5825 5451.7449,19.6492 Q5451.0601,20.7158 5451.0601,22.8159 Q5451.0601,24.9077 5451.7449,25.9744 Q5452.4297,27.041 5453.7744,27.041 Q5454.4053,27.041 5454.9988,26.7712 Q5455.5923,26.5015 5456.2231,25.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5473.75" y="28.291">Loza</text><line style="stroke:#181818;stroke-width:0.5;" x1="5398" x2="5549" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="5403" y="56.5352">RaftServer raftServer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="5403" y="73.0234">NodeOptions opts</text><line style="stroke:#181818;stroke-width:0.5;" x1="5398" x2="5549" y1="79.9766" y2="79.9766"/></g><!--class PartitionDataStorage--><g id="elem_PartitionDataStorage"><rect codeLine="183" fill="#F1F1F1" height="311.8125" id="PartitionDataStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="858" x="2047.5" y="1059.5"/><ellipse cx="2401.25" cy="1075.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2397.1777,1071.2651 L2397.1777,1069.1069 L2404.5571,1069.1069 L2404.5571,1071.2651 L2402.0918,1071.2651 L2402.0918,1079.3418 L2404.5571,1079.3418 L2404.5571,1081.5 L2397.1777,1081.5 L2397.1777,1079.3418 L2399.6431,1079.3418 L2399.6431,1071.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="142" x="2421.75" y="1080.791">PartitionDataStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2048.5" x2="2904.5" y1="1091.5" y2="1091.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="2048.5" x2="2904.5" y1="1099.5" y2="1099.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="339" x="2053.5" y="1117.0352">&lt;V&gt; V runConsistently(WriteClosure&lt;V&gt; closure)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="2053.5" y="1133.5234">void acquirePartitionSnapshotsReadLock()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286" x="2053.5" y="1150.0117">void releasePartitionSnapshotsReadLock()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="2053.5" y="1166.5">CompletableFuture&lt;Void&gt; flush()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="2053.5" y="1182.9883">long lastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="2053.5" y="1199.4766">long lastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="2053.5" y="1215.9648">void lastApplied(long lastAppliedIndex, long lastAppliedTerm)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="468" x="2053.5" y="1232.4531">void committedGroupConfiguration(RaftGroupConfiguration config)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="846" x="2053.5" y="1248.9414">BinaryRow addWrite(int tableId, RowId rowId, @Nullable BinaryRow row, UUID txId, int commitTableId, int commitPartitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319" x="2053.5" y="1265.4297">BinaryRow abortWrite(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="496" x="2053.5" y="1281.918">void commitWrite(int tableId, RowId rowId, HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="411" x="2053.5" y="1298.4063">Cursor&lt;ReadResult&gt; scanVersions(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2053.5" y="1314.8945">void close()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="423" x="2053.5" y="1331.3828">PartitionTimestampCursor scan(HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="2053.5" y="1347.8711">GcEntry peek(HybridTimestamp lowWatermark)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="2053.5" y="1364.3594">BinaryRow vacuum(GcEntry entry)</text></g><!--class SnapshotAwarePartitionDataStorage--><g id="elem_SnapshotAwarePartitionDataStorage"><rect codeLine="202" fill="#F1F1F1" height="80.9766" id="SnapshotAwarePartitionDataStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="289" x="2002" y="761.5"/><ellipse cx="2020.6" cy="777.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2023.5731,783.1431 Q2022.9921,783.4419 2022.3529,783.5913 Q2021.7138,783.7407 2021.0082,783.7407 Q2018.5014,783.7407 2017.1815,782.0889 Q2015.8617,780.437 2015.8617,777.3159 Q2015.8617,774.1865 2017.1815,772.5347 Q2018.5014,770.8828 2021.0082,770.8828 Q2021.7138,770.8828 2022.3612,771.0322 Q2023.0087,771.1816 2023.5731,771.4805 L2023.5731,774.2031 Q2022.9423,773.6221 2022.3488,773.3523 Q2021.7553,773.0825 2021.1244,773.0825 Q2019.7797,773.0825 2019.0949,774.1492 Q2018.4101,775.2158 2018.4101,777.3159 Q2018.4101,779.4077 2019.0949,780.4744 Q2019.7797,781.541 2021.1244,781.541 Q2021.7553,781.541 2022.3488,781.2712 Q2022.9423,781.0015 2023.5731,780.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="2035.4" y="782.791">SnapshotAwarePartitionDataStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2003" x2="2290" y1="793.5" y2="793.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="2008" y="811.0352">MvPartitionStorage partitionStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="2008" y="827.5234">PartitionsSnapshots partitionsSnapshots</text><line style="stroke:#181818;stroke-width:0.5;" x1="2003" x2="2290" y1="834.4766" y2="834.4766"/></g><g id="elem_GMN41"><path d="M2326.5,789.5 L2326.5,798 L2291.45,802 L2326.5,806 L2326.5,814.8105 A0,0 0 0 0 2326.5,814.8105 L2834.5,814.8105 A0,0 0 0 0 2834.5,814.8105 L2834.5,799.5 L2824.5,789.5 L2326.5,789.5 A0,0 0 0 0 2326.5,789.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2824.5,789.5 L2824.5,799.5 L2834.5,799.5 L2824.5,789.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="487" x="2332.5" y="807.0684">&#1057;&#1086; &#1089;&#1085;&#1072;&#1087;&#1096;&#1086;&#1090;&#1072;&#1084;&#1080; &#1087;&#1086;&#1082;&#1072; &#1074;&#1086;&#1086;&#1073;&#1097;&#1077; &#1085;&#1080;&#1095;&#1077;&#1075;&#1086; &#1085;&#1077; &#1087;&#1086;&#1085;&#1103;&#1090;&#1085;&#1086;, &#1085;&#1072;&#1076;&#1086; &#1088;&#1072;&#1079;&#1073;&#1080;&#1088;&#1072;&#1090;&#1100;&#1089;&#1103; &#1076;&#1072;&#1083;&#1100;&#1096;&#1077;</text></g><!--class PartitionsSnapshots--><g id="elem_PartitionsSnapshots"><rect codeLine="211" fill="#F1F1F1" height="97.4648" id="PartitionsSnapshots" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="454" x="2940.5" y="1167"/><ellipse cx="3095.25" cy="1183" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3091.1777,1178.7651 L3091.1777,1176.6069 L3098.5571,1176.6069 L3098.5571,1178.7651 L3096.0918,1178.7651 L3096.0918,1186.8418 L3098.5571,1186.8418 L3098.5571,1189 L3091.1777,1189 L3091.1777,1186.8418 L3093.6431,1186.8418 L3093.6431,1178.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="136" x="3115.75" y="1188.291">PartitionsSnapshots</text><line style="stroke:#181818;stroke-width:0.5;" x1="2941.5" x2="3393.5" y1="1199" y2="1199"/><line style="stroke:#181818;stroke-width:0.5;" x1="2941.5" x2="3393.5" y1="1207" y2="1207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="2946.5" y="1224.5352">PartitionSnapshots partitionSnapshots(PartitionKey partitionKey)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="2946.5" y="1241.0234">void removeSnapshots(PartitionKey partitionKey)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="2946.5" y="1257.5117">void finishOutgoingSnapshot(UUID snapshotId)</text></g><!--class OutgoingSnapshotsManager--><g id="elem_OutgoingSnapshotsManager"><rect codeLine="217" fill="#F1F1F1" height="80.9766" id="OutgoingSnapshotsManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="459" x="3509" y="165"/><ellipse cx="3636.25" cy="181" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3639.2231,186.6431 Q3638.6421,186.9419 3638.0029,187.0913 Q3637.3638,187.2407 3636.6582,187.2407 Q3634.1514,187.2407 3632.8315,185.5889 Q3631.5117,183.937 3631.5117,180.8159 Q3631.5117,177.6865 3632.8315,176.0347 Q3634.1514,174.3828 3636.6582,174.3828 Q3637.3638,174.3828 3638.0112,174.5322 Q3638.6587,174.6816 3639.2231,174.9805 L3639.2231,177.7031 Q3638.5923,177.1221 3637.9988,176.8523 Q3637.4053,176.5825 3636.7744,176.5825 Q3635.4297,176.5825 3634.7449,177.6492 Q3634.0601,178.7158 3634.0601,180.8159 Q3634.0601,182.9077 3634.7449,183.9744 Q3635.4297,185.041 3636.7744,185.041 Q3637.4053,185.041 3637.9988,184.7712 Q3638.5923,184.5015 3639.2231,183.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="3656.75" y="186.291">OutgoingSnapshotsManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="3510" x2="3967" y1="197" y2="197"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296" x="3515" y="214.5352">Map&lt;UUID, OutgoingSnapshot&gt; snapshots</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="3515" y="231.0234">Map&lt;PartitionKey, PartitionSnapshotsImpl&gt; snapshotsByPartition</text><line style="stroke:#181818;stroke-width:0.5;" x1="3510" x2="3967" y1="237.9766" y2="237.9766"/></g><!--class OutgoingSnapshot--><g id="elem_OutgoingSnapshot"><rect codeLine="222" fill="#F1F1F1" height="278.8359" id="OutgoingSnapshot" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="656" x="3758.5" y="323"/><ellipse cx="4017.75" cy="339" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4020.7231,344.6431 Q4020.1421,344.9419 4019.5029,345.0913 Q4018.8638,345.2407 4018.1582,345.2407 Q4015.6514,345.2407 4014.3315,343.5889 Q4013.0117,341.937 4013.0117,338.8159 Q4013.0117,335.6865 4014.3315,334.0347 Q4015.6514,332.3828 4018.1582,332.3828 Q4018.8638,332.3828 4019.5112,332.5322 Q4020.1587,332.6816 4020.7231,332.9805 L4020.7231,335.7031 Q4020.0923,335.1221 4019.4988,334.8523 Q4018.9053,334.5825 4018.2744,334.5825 Q4016.9297,334.5825 4016.2449,335.6492 Q4015.5601,336.7158 4015.5601,338.8159 Q4015.5601,340.9077 4016.2449,341.9744 Q4016.9297,343.041 4018.2744,343.041 Q4018.9053,343.041 4019.4988,342.7712 Q4020.0923,342.5015 4020.7231,341.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="4038.25" y="344.291">OutgoingSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="3759.5" x2="4413.5" y1="355" y2="355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="3764.5" y="372.5352">PartitionAccess _partition</text><line style="stroke:#181818;stroke-width:0.5;" x1="3759.5" x2="4413.5" y1="379.4883" y2="379.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="3764.5" y="397.0234">UUID id() {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="3764.5" y="413.5117">PartitionKey partitionKey() {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228" x="3764.5" y="430">void freezeScopeUnderMvLock() {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="3764.5" y="446.4883">SnapshotMeta meta() {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="593" x="3764.5" y="462.9766">SnapshotMetaResponse handleSnapshotMetaRequest(SnapshotMetaRequest request) {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="644" x="3764.5" y="479.4648">SnapshotMvDataResponse handleSnapshotMvDataRequest(SnapshotMvDataRequest request) {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="641" x="3764.5" y="495.9531">SnapshotTxDataResponse handleSnapshotTxDataRequest(SnapshotTxDataRequest request) {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="3764.5" y="512.4414">void acquireMvLock() {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="3764.5" y="528.9297">void releaseMvLock() {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="3764.5" y="545.418">boolean addRowIdToSkip(RowId rowId) {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261" x="3764.5" y="561.9063">boolean alreadyPassed(RowId rowId) {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="3764.5" y="578.3945">void enqueueForSending(RowId rowId) {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="3764.5" y="594.8828">void close() {</text></g><!--class PartitionAccess--><g id="elem_PartitionAccess"><rect codeLine="239" fill="#F1F1F1" height="245.8594" id="PartitionAccess" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="739" x="4169" y="679"/><ellipse cx="4482.25" cy="695" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4478.1777,690.7651 L4478.1777,688.6069 L4485.5571,688.6069 L4485.5571,690.7651 L4483.0918,690.7651 L4483.0918,698.8418 L4485.5571,698.8418 L4485.5571,701 L4478.1777,701 L4478.1777,698.8418 L4480.6431,698.8418 L4480.6431,690.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="4502.75" y="700.291">PartitionAccess</text><line style="stroke:#181818;stroke-width:0.5;" x1="4170" x2="4907" y1="711" y2="711"/><line style="stroke:#181818;stroke-width:0.5;" x1="4170" x2="4907" y1="719" y2="719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="4175" y="736.5352">PartitionKey partitionKey()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="379" x="4175" y="753.0234">Cursor&lt;IgniteBiTuple&lt;UUID, TxMeta&gt;&gt; getAllTxMeta()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="4175" y="769.5117">void addTxMeta(UUID txId, TxMeta txMeta)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273" x="4175" y="786">RowId closestRowId(RowId lowerBound)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="524" x="4175" y="802.4883">List&lt;ReadResult&gt; getAllRowVersions(RowId rowId) throws StorageException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="392" x="4175" y="818.9766">RaftGroupConfiguration committedGroupConfiguration()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="727" x="4175" y="835.4648">void addWrite(RowId rowId, @Nullable BinaryRow row, UUID txId, int commitTableId, int commitPartitionId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="706" x="4175" y="851.9531">void addWriteCommitted(RowId rowId, @Nullable BinaryRow row, HybridTimestamp commitTimestamp)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="4175" y="868.4414">long minLastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="4175" y="884.9297">long minLastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="4175" y="901.418">long maxLastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="4175" y="917.9063">long maxLastAppliedTerm()</text></g><!--class PartitionAccessImpl--><g id="elem_PartitionAccessImpl"><rect codeLine="254" fill="#F1F1F1" height="97.4648" id="PartitionAccessImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="298" x="4835.5" y="414"/><ellipse cx="4913.25" cy="430" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4916.2231,435.6431 Q4915.6421,435.9419 4915.0029,436.0913 Q4914.3638,436.2407 4913.6582,436.2407 Q4911.1514,436.2407 4909.8315,434.5889 Q4908.5117,432.937 4908.5117,429.8159 Q4908.5117,426.6865 4909.8315,425.0347 Q4911.1514,423.3828 4913.6582,423.3828 Q4914.3638,423.3828 4915.0112,423.5322 Q4915.6587,423.6816 4916.2231,423.9805 L4916.2231,426.7031 Q4915.5923,426.1221 4914.9988,425.8523 Q4914.4053,425.5825 4913.7744,425.5825 Q4912.4297,425.5825 4911.7449,426.6492 Q4911.0601,427.7158 4911.0601,429.8159 Q4911.0601,431.9077 4911.7449,432.9744 Q4912.4297,434.041 4913.7744,434.041 Q4914.4053,434.041 4914.9988,433.7712 Q4915.5923,433.5015 4916.2231,432.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="4933.75" y="435.291">PartitionAccessImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="4836.5" x2="5132.5" y1="446" y2="446"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="4841.5" y="463.5352">PartitionKey partitionKey</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="4841.5" y="480.0234">MvTableStorage mvTableStorage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286" x="4841.5" y="496.5117">TxStateTableStorage txStateTableStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="4836.5" x2="5132.5" y1="503.4648" y2="503.4648"/></g><!--class PartitionKey--><g id="elem_PartitionKey"><rect codeLine="260" fill="#F1F1F1" height="80.9766" id="PartitionKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="4943.5" y="761.5"/><ellipse cx="4958.5" cy="777.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4961.4731,783.1431 Q4960.8921,783.4419 4960.2529,783.5913 Q4959.6138,783.7407 4958.9082,783.7407 Q4956.4014,783.7407 4955.0815,782.0889 Q4953.7617,780.437 4953.7617,777.3159 Q4953.7617,774.1865 4955.0815,772.5347 Q4956.4014,770.8828 4958.9082,770.8828 Q4959.6138,770.8828 4960.2612,771.0322 Q4960.9087,771.1816 4961.4731,771.4805 L4961.4731,774.2031 Q4960.8423,773.6221 4960.2488,773.3523 Q4959.6553,773.0825 4959.0244,773.0825 Q4957.6797,773.0825 4956.9949,774.1492 Q4956.3101,775.2158 4956.3101,777.3159 Q4956.3101,779.4077 4956.9949,780.4744 Q4957.6797,781.541 4959.0244,781.541 Q4959.6553,781.541 4960.2488,781.2712 Q4960.8423,781.0015 4961.4731,780.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="4972.5" y="782.791">PartitionKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="4944.5" x2="5056.5" y1="793.5" y2="793.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="4949.5" y="811.0352">int tableId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="4949.5" y="827.5234">int partitionId</text><line style="stroke:#181818;stroke-width:0.5;" x1="4944.5" x2="5056.5" y1="834.4766" y2="834.4766"/></g><!--class MvTableStorage--><g id="elem_MvTableStorage"><rect fill="#F1F1F1" height="48" id="MvTableStorage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="5092.5" y="778"/><ellipse cx="5107.5" cy="794" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5110.4731,799.6431 Q5109.8921,799.9419 5109.2529,800.0913 Q5108.6138,800.2407 5107.9082,800.2407 Q5105.4014,800.2407 5104.0815,798.5889 Q5102.7617,796.937 5102.7617,793.8159 Q5102.7617,790.6865 5104.0815,789.0347 Q5105.4014,787.3828 5107.9082,787.3828 Q5108.6138,787.3828 5109.2612,787.5322 Q5109.9087,787.6816 5110.4731,787.9805 L5110.4731,790.7031 Q5109.8423,790.1221 5109.2488,789.8523 Q5108.6553,789.5825 5108.0244,789.5825 Q5106.6797,789.5825 5105.9949,790.6492 Q5105.3101,791.7158 5105.3101,793.8159 Q5105.3101,795.9077 5105.9949,796.9744 Q5106.6797,798.041 5108.0244,798.041 Q5108.6553,798.041 5109.2488,797.7712 Q5109.8423,797.5015 5110.4731,796.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="5121.5" y="799.291">MvTableStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="5093.5" x2="5233.5" y1="810" y2="810"/><line style="stroke:#181818;stroke-width:0.5;" x1="5093.5" x2="5233.5" y1="818" y2="818"/></g><!--reverse link DistributionZoneManager to DistributionZone--><g id="link_DistributionZoneManager_DistributionZone"><path codeLine="266" d="M1510.5,252.03 C1510.5,303.46 1510.5,385.79 1510.5,430.38 " fill="none" id="DistributionZoneManager-backto-DistributionZone" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1510.5,239.28,1506.5,245.28,1510.5,251.28,1514.5,245.28,1510.5,239.28" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link DistributionZone to MvZoneStorage--><g id="link_DistributionZone_MvZoneStorage"><path codeLine="267" d="M1480.97,506.64 C1441.13,564.85 1369.84,669.02 1323.62,736.54 " fill="none" id="DistributionZone-backto-MvZoneStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1488.12,496.2,1481.4327,498.8982,1481.3514,506.1089,1488.0386,503.4106,1488.12,496.2" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link MvZoneStorage to MvPartitionStorage--><g id="link_MvZoneStorage_MvPartitionStorage"><path codeLine="268" d="M1269.22,881.64 C1267.66,916.29 1266.84,958.85 1266.76,1001.82 " fill="none" id="MvZoneStorage-backto-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1269.86,868.81,1265.5682,874.6049,1269.2667,880.7953,1273.5584,875.0004,1269.86,868.81" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link MvZoneStorage to MvPartitionStorage--><g id="link_MvZoneStorage_MvPartitionStorage"><path codeLine="276" d="M1290.38,881.64 C1292.04,916.29 1292.91,958.85 1292.99,1001.82 " fill="none" id="MvZoneStorage-backto-MvPartitionStorage-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1289.7,868.81,1286.0223,875.0128,1290.3335,880.7933,1294.0112,874.5905,1289.7,868.81" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link TableManager to TableImpl--><g id="link_TableManager_TableImpl"><path codeLine="270" d="M2784.5,93.9 C2784.5,119.32 2784.5,150.37 2784.5,173.09 " fill="none" id="TableManager-backto-TableImpl" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2784.5,81.21,2780.5,87.21,2784.5,93.21,2788.5,87.21,2784.5,81.21" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="2785.5" y="131.5684">tableByIdVv</text></g><!--reverse link TableImpl to InternalTableImpl--><g id="link_TableImpl_InternalTableImpl"><path codeLine="271" d="M2775.09,251.79 C2765.07,300 2749.37,375.54 2739.8,421.59 " fill="none" id="TableImpl-backto-InternalTableImpl" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2777.69,239.25,2772.5538,244.3115,2775.2504,250.9994,2780.3867,245.9379,2777.69,239.25" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="2769.5" y="289.5684">tbl</text></g><!--link InternalTableImpl to MvZoneStorage--><g id="link_InternalTableImpl_MvZoneStorage"><path codeLine="273" d="M2681.97,503.41 C2638.32,536.13 2571.56,580.44 2505.5,602 C2104.06,733.02 1968,575.89 1558.5,679 C1507.86,691.75 1454.76,712.82 1408.64,733.9 " fill="none" id="InternalTableImpl-to-MvZoneStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1404.14,735.97,1413.9878,735.8244,1408.6785,733.872,1410.631,728.5628,1404.14,735.97" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2393.5" y="645.5684">tableStorage</text></g><!--reverse link InternalTableImpl to TxStateTableStorage--><g id="link_InternalTableImpl_TxStateTableStorage"><path codeLine="274" d="M2772.04,514.18 C2799.18,544.53 2837.53,581.16 2879.5,602 C3061.24,692.24 3134.54,622.77 3329.5,679 C3382.09,694.17 3438,715.79 3486.84,736.62 " fill="none" id="InternalTableImpl-backto-TxStateTableStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2763.56,504.46,2764.4874,511.6112,2771.4452,513.5056,2770.5178,506.3544,2763.56,504.46" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="3028.5" y="645.5684">txStateStorage</text></g><!--link VolatilePageMemoryZoneStorage to MvZoneStorage--><g id="link_VolatilePageMemoryZoneStorage_MvZoneStorage"><path codeLine="278" d="M956.62,486.96 C1005.83,534.82 1119.75,645.62 1198.2,721.93 " fill="none" id="VolatilePageMemoryZoneStorage-to-MvZoneStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1202.85,716.69,1212.31,735.65,1193.09,726.72,1202.85,716.69" style="stroke:#181818;stroke-width:1.0;"/></g><!--link RocksDbZoneStorage to MvZoneStorage--><g id="link_RocksDbZoneStorage_MvZoneStorage"><path codeLine="279" d="M695.29,494.93 C712.93,526.79 744.48,575.11 785.5,602 C831.84,632.38 852.81,618.33 906.5,632 C986.63,652.39 1010.66,646.08 1086.5,679 C1115.59,691.63 1145.35,708.28 1172.52,725.21 " fill="none" id="RocksDbZoneStorage-to-MvZoneStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1176.04,719.15,1189.14,735.81,1168.52,730.96,1176.04,719.15" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PersistentPageMemoryZoneStorage to MvZoneStorage--><g id="link_PersistentPageMemoryZoneStorage_MvZoneStorage"><path codeLine="280" d="M1236.7,486.96 C1243.04,533.53 1257.51,639.66 1267.87,715.66 " fill="none" id="PersistentPageMemoryZoneStorage-to-MvZoneStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1274.77,714.44,1270.53,735.2,1260.9,716.33,1274.77,714.44" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionReplicaListener to MvPartitionStorage--><g id="link_PartitionReplicaListener_MvPartitionStorage"><path codeLine="282" d="M1752.87,511.49 C1685.28,561.99 1586.06,639.52 1558.5,679 C1492.13,774.1 1523.27,821.23 1471.5,925 C1459.67,948.71 1446.25,972.8 1432.13,996.45 " fill="none" id="PartitionReplicaListener-to-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1429.69,1000.51,1437.7504,994.8505,1432.2625,996.2225,1430.8905,990.7346,1429.69,1000.51" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionReplicaListener to TxStateStorage--><g id="link_PartitionReplicaListener_TxStateStorage"><path codeLine="283" d="M1866.79,511.32 C1901.89,542.89 1952.23,582.01 2004.5,602 C2181.23,669.6 2693.09,577.06 2852.5,679 C2958.86,747.01 2891.37,852.19 2994.5,925 C3148.82,1033.95 3232.18,945.71 3412.5,1002 C3487.22,1025.33 3565.74,1057.38 3636.82,1089.52 " fill="none" id="PartitionReplicaListener-to-TxStateStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3640.98,1091.41,3634.4228,1084.0613,3636.4228,1089.3528,3631.1313,1091.3529,3640.98,1091.41" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionReplicaListener to MvZoneStorage--><g id="link_PartitionReplicaListener_MvZoneStorage"><path codeLine="284" d="M1767.09,511.39 C1731.76,541.75 1682.39,579.43 1632.5,602 C1574.13,628.41 1549.43,604.63 1491.5,632 C1438.74,656.92 1387.37,697.33 1348.41,732.39 " fill="none" id="PartitionReplicaListener-to-MvZoneStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1344.84,735.62,1354.1996,732.5546,1348.5501,732.2681,1348.8365,726.6185,1344.84,735.62" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link TxStateTableStorage to TxStateStorage--><g id="link_TxStateTableStorage_TxStateStorage"><path codeLine="286" d="M3613.95,881.5 C3613.13,910.99 3616.11,944.11 3628.5,972 C3648.45,1016.9 3681.04,1057.48 3716.4,1092.03 " fill="none" id="TxStateTableStorage-backto-TxStateStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3614.56,868.86,3610.2746,874.6596,3613.9798,880.846,3618.2652,875.0464,3614.56,868.86" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="3629.5" y="968.5684">connected implementations actually</text></g><!--link TxStateRocksDbStorage to TxStateStorage--><g id="link_TxStateRocksDbStorage_TxStateStorage"><path codeLine="287" d="M4026.95,826.3 C4009.78,873.09 3969.92,981.73 3936.71,1072.21 " fill="none" id="TxStateRocksDbStorage-to-TxStateStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3943.29,1074.61,3929.83,1090.97,3930.15,1069.79,3943.29,1074.61" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link ReplicaManager to Replica--><g id="link_ReplicaManager_Replica"><path codeLine="289" d="M2400.04,252.03 C2400.64,303.46 2401.61,385.79 2402.13,430.38 " fill="none" id="ReplicaManager-backto-Replica" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2399.89,239.28,2395.9562,245.3236,2400.0219,251.2793,2403.9557,245.2357,2399.89,239.28" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link Replica to ReplicaListener--><g id="link_Replica_ReplicaListener"><path codeLine="291" d="M2380.42,507.61 C2362.68,538.58 2334.9,578.53 2299.5,602 C2179.39,681.65 2118.34,625.55 1984.5,679 C1935.23,698.68 1883.5,728.07 1843.36,753.07 " fill="none" id="Replica-backto-ReplicaListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2386.67,496.28,2380.2683,499.5995,2380.8703,506.7854,2387.2719,503.4659,2386.67,496.28" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionReplicaListener to ReplicaListener--><g id="link_PartitionReplicaListener_ReplicaListener"><path codeLine="292" d="M1811.82,511.5 C1803.78,569.21 1790.23,666.51 1781.08,732.2 " fill="none" id="PartitionReplicaListener-to-ReplicaListener" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1788.06,732.83,1778.37,751.67,1774.2,730.9,1788.06,732.83" style="stroke:#181818;stroke-width:1.0;"/></g><!--link CmgRaftGroupListener to RaftGroupListener--><g id="link_CmgRaftGroupListener_RaftGroupListener"><path codeLine="294" d="M5313.45,486.96 C5341.38,530.81 5402.96,627.48 5450.48,702.07 " fill="none" id="CmgRaftGroupListener-to-RaftGroupListener" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5456.26,698.12,5461.1,718.75,5444.45,705.64,5456.26,698.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--link MetaStorageListener to RaftGroupListener--><g id="link_MetaStorageListener_RaftGroupListener"><path codeLine="295" d="M5513.5,486.96 C5513.5,530.16 5513.5,624.63 5513.5,698.74 " fill="none" id="MetaStorageListener-to-RaftGroupListener" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5520.5,698.51,5513.5,718.51,5506.5,698.51,5520.5,698.51" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionListener to RaftGroupListener--><g id="link_PartitionListener_RaftGroupListener"><path codeLine="296" d="M3104.33,503.42 C3139.5,536.63 3194.57,581.64 3252.5,602 C3304.95,620.44 5198.47,665.9 5252.5,679 C5284.15,686.67 5316.59,698.34 5347.36,711.46 " fill="none" id="PartitionListener-to-RaftGroupListener" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5349.94,704.95,5365.41,719.43,5344.29,717.76,5349.94,704.95" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link RaftGroupService to NodeOptions--><g id="link_RaftGroupService_NodeOptions"><path codeLine="298" d="M5779.5,252.1 C5779.5,300.32 5779.5,375.64 5779.5,421.59 " fill="none" id="RaftGroupService-backto-NodeOptions" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="5779.5,239.28,5775.5,245.28,5779.5,251.28,5783.5,245.28,5779.5,239.28" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link NodeOptions to RaftGroupListener--><g id="link_NodeOptions_RaftGroupListener"><path codeLine="299" d="M5739.45,514.32 C5696.51,568.8 5627.71,656.09 5577.3,720.06 " fill="none" id="NodeOptions-backto-RaftGroupListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="5747.27,504.4,5740.4139,506.6348,5739.8398,513.823,5746.6959,511.5882,5747.27,504.4" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="5647.5" y="645.5684">through delegate fsm</text></g><!--link JraftServerImpl to RaftServer--><g id="link_JraftServerImpl_RaftServer"><path codeLine="301" d="M5722.11,88.47 C5686.4,113.34 5640.88,145.04 5606.45,169.02 " fill="none" id="JraftServerImpl-to-RaftServer" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5610.73,174.56,5590.32,180.25,5602.73,163.07,5610.73,174.56" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link JraftServerImpl to RaftGroupService--><g id="link_JraftServerImpl_RaftGroupService"><path codeLine="302" d="M5779.5,102.46 C5779.5,126.06 5779.5,152.93 5779.5,173.16 " fill="none" id="JraftServerImpl-backto-RaftGroupService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="5779.5,89.78,5775.5,95.78,5779.5,101.78,5783.5,95.78,5779.5,89.78" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="5780.5" y="131.5684">nodes</text></g><!--reverse link Loza to RaftServer--><g id="link_Loza_RaftServer"><path codeLine="304" d="M5501,100.82 C5515.35,128.11 5532.17,160.12 5543.29,181.28 " fill="none" id="Loza-backto-RaftServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="5495.11,89.61,5494.36,96.782,5500.6919,100.2327,5501.4419,93.0607,5495.11,89.61" style="stroke:#181818;stroke-width:1.0;"/></g><!--link SnapshotAwarePartitionDataStorage to PartitionDataStorage--><g id="link_SnapshotAwarePartitionDataStorage_PartitionDataStorage"><path codeLine="306" d="M2178.44,842.83 C2215.66,889.24 2279.62,969 2338.78,1042.77 " fill="none" id="SnapshotAwarePartitionDataStorage-to-PartitionDataStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2344.11,1038.22,2351.16,1058.2,2333.18,1046.98,2344.11,1038.22" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link PartitionListener to PartitionDataStorage--><g id="link_PartitionListener_PartitionDataStorage"><path codeLine="308" d="M3050.48,517.11 C3022.91,608.43 2957.27,796.7 2852.5,925 C2812.64,973.82 2763.02,1019.31 2713.04,1059.11 " fill="none" id="PartitionListener-backto-PartitionDataStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3054.15,504.77,3048.6072,509.3828,3050.7333,516.2733,3056.2761,511.6606,3054.15,504.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionListener to StorageUpdateHandler--><g id="link_PartitionListener_StorageUpdateHandler"><path codeLine="311" d="M3076.79,503.21 C3094.72,566.21 3129.57,688.75 3148.5,755.31 " fill="none" id="PartitionListener-to-StorageUpdateHandler" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3149.76,759.73,3151.1413,749.9785,3148.3902,754.9213,3143.4473,752.1702,3149.76,759.73" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionListener to TxStateStorage--><g id="link_PartitionListener_TxStateStorage"><path codeLine="312" d="M3106.22,503.43 C3141.75,535.7 3196.29,579.36 3252.5,602 C3376.58,651.97 3757.94,581.48 3849.5,679 C3902.75,735.72 3901.42,946.36 3894.06,1085.94 " fill="none" id="PartitionListener-to-TxStateStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3893.81,1090.61,3898.2933,1081.8408,3894.0818,1085.6174,3890.3052,1081.4059,3893.81,1090.61" style="stroke:#181818;stroke-width:1.0;"/></g><!--link StorageUpdateHandler to PartitionDataStorage--><g id="link_StorageUpdateHandler_PartitionDataStorage"><path codeLine="314" d="M3126.55,842.99 C3092.85,879.84 3039.06,934.37 2984.5,972 C2981.98,973.74 2903.53,1011.31 2809,1056.37 " fill="none" id="StorageUpdateHandler-to-PartitionDataStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2804.7,1058.42,2814.5458,1058.1741,2809.2169,1056.2759,2811.1152,1050.947,2804.7,1058.42" style="stroke:#181818;stroke-width:1.0;"/></g><!--link RocksDbMvPartitionStorage to MvPartitionStorage--><g id="link_RocksDbMvPartitionStorage_MvPartitionStorage"><path codeLine="316" d="M854.45,834.27 C892.72,868.5 957.73,926.65 1025.54,987.32 " fill="none" id="RocksDbMvPartitionStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1030.06,981.97,1040.3,1000.52,1020.73,992.4,1030.06,981.97" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PersistentPageMemoryMvPartitionStorage to MvPartitionStorage--><g id="link_PersistentPageMemoryMvPartitionStorage_MvPartitionStorage"><path codeLine="317" d="M193.38,826.41 C226.74,853.41 285.17,897.6 341.5,925 C494.81,999.58 671.53,1060.07 829.96,1106.11 " fill="none" id="PersistentPageMemoryMvPartitionStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="831.44,1099.25,848.72,1111.52,827.57,1112.71,831.44,1099.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--link VolatilePageMemoryMvPartitionStorage to MvPartitionStorage--><g id="link_VolatilePageMemoryMvPartitionStorage_MvPartitionStorage"><path codeLine="318" d="M538.44,826.5 C571.07,852.39 626.28,894.42 677.5,925 C726.38,954.18 778.66,982.82 831.22,1010.04 " fill="none" id="VolatilePageMemoryMvPartitionStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="834.28,1003.74,848.86,1019.12,827.88,1016.19,834.28,1003.74" style="stroke:#181818;stroke-width:1.0;"/></g><!--link SnapshotAwarePartitionDataStorage to MvPartitionStorage--><g id="link_SnapshotAwarePartitionDataStorage_MvPartitionStorage"><path codeLine="320" d="M2100.17,842.96 C2068.92,868.6 2025.96,901.4 1984.5,925 C1899.89,973.17 1805.67,1017.57 1714.36,1056.38 " fill="none" id="SnapshotAwarePartitionDataStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1710.02,1058.22,1719.8676,1058.3772,1714.6209,1056.2625,1716.7356,1051.0158,1710.02,1058.22" style="stroke:#181818;stroke-width:1.0;"/></g><!--link SnapshotAwarePartitionDataStorage to PartitionsSnapshots--><g id="link_SnapshotAwarePartitionDataStorage_PartitionsSnapshots"><path codeLine="321" d="M2186.7,842.86 C2217.39,870.74 2262.16,906.22 2308.5,925 C2563.8,1028.46 2672.03,889.54 2923.5,1002 C3005.22,1038.55 3079.75,1111.94 3124.37,1162.14 " fill="none" id="SnapshotAwarePartitionDataStorage-to-PartitionsSnapshots" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3127.6,1165.79,3124.6282,1156.4002,3124.2853,1162.0467,3118.6388,1161.7038,3127.6,1165.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--link OutgoingSnapshotsManager to PartitionsSnapshots--><g id="link_OutgoingSnapshotsManager_PartitionsSnapshots"><path codeLine="323" d="M3728.34,246.45 C3706.87,323.83 3650.25,495.85 3547.5,602 C3496.21,655 3447.14,621.87 3400.5,679 C3328.54,767.15 3373.35,819.99 3329.5,925 C3296.03,1005.15 3245.77,1091.34 3210.12,1148.64 " fill="none" id="OutgoingSnapshotsManager-to-PartitionsSnapshots" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3216.24,1152.05,3199.67,1165.26,3204.39,1144.6,3216.24,1152.05" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link OutgoingSnapshotsManager to OutgoingSnapshot--><g id="link_OutgoingSnapshotsManager_OutgoingSnapshot"><path codeLine="324" d="M3804.41,254.79 C3831.26,274.47 3863.8,298.31 3897.1,322.71 " fill="none" id="OutgoingSnapshotsManager-backto-OutgoingSnapshot" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3794.1,247.24,3796.5746,254.0132,3803.7785,254.3341,3801.304,247.5609,3794.1,247.24" style="stroke:#181818;stroke-width:1.0;"/></g><!--link OutgoingSnapshot to PartitionAccess--><g id="link_OutgoingSnapshot_PartitionAccess"><path codeLine="325" d="M4272.63,602.48 C4304.73,626.45 4337.95,651.25 4369.57,674.86 " fill="none" id="OutgoingSnapshot-to-PartitionAccess" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="4373.42,677.74,4368.6053,669.1482,4369.4149,674.7468,4363.8163,675.5564,4373.42,677.74" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionAccessImpl to PartitionAccess--><g id="link_PartitionAccessImpl_PartitionAccess"><path codeLine="327" d="M4921.07,511.5 C4867.86,551.76 4789.19,611.3 4717,665.92 " fill="none" id="PartitionAccessImpl-to-PartitionAccess" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4721.65,671.18,4701.48,677.67,4713.2,660.02,4721.65,671.18" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link PartitionAccessImpl to PartitionKey--><g id="link_PartitionAccessImpl_PartitionKey"><path codeLine="329" d="M4987.46,525.94 C4990.72,594.64 4995.85,702.99 4998.61,761.07 " fill="none" id="PartitionAccessImpl-backto-PartitionKey" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4986.85,513.01,4983.138,519.1923,4987.417,524.9966,4991.129,518.8143,4986.85,513.01" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionAccessImpl to MvTableStorage--><g id="link_PartitionAccessImpl_MvTableStorage"><path codeLine="330" d="M5009.96,511.5 C5047.66,582.58 5117.19,713.69 5148.05,771.87 " fill="none" id="PartitionAccessImpl-to-MvTableStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="5150.38,776.27,5149.7071,766.4442,5148.0419,771.8504,5142.6357,770.1852,5150.38,776.27" style="stroke:#181818;stroke-width:1.0;"/></g><!--link PartitionAccessImpl to TxStateTableStorage--><g id="link_PartitionAccessImpl_TxStateTableStorage"><path codeLine="331" d="M4835.15,505.13 C4724.59,534.93 4569.95,574.49 4432.5,602 C4206.86,647.16 4142.27,617.6 3920.5,679 C3869.28,693.18 3815.03,713.79 3767.16,734.04 " fill="none" id="PartitionAccessImpl-to-TxStateTableStorage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3762.75,735.92,3772.5972,736.1031,3767.356,733.9746,3769.4845,728.7335,3762.75,735.92" style="stroke:#181818;stroke-width:1.0;"/></g><!--link TxStateStorage to TxMeta--><g id="link_TxStateStorage_TxMeta"><path codeLine="333" d="M3884.5,1338.77 C3884.5,1388.72 3884.5,1443.92 3884.5,1483.43 " fill="none" id="TxStateStorage-to-TxMeta" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3884.5,1488.13,3888.5,1479.13,3884.5,1483.13,3880.5,1479.13,3884.5,1488.13" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link TxMeta to TxState--><g id="link_TxMeta_TxState"><path codeLine="334" d="M3884.5,1601.31 C3884.5,1617.06 3884.5,1633.57 3884.5,1647.88 " fill="none" id="TxMeta-backto-TxState" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3884.5,1588.66,3880.5,1594.66,3884.5,1600.66,3888.5,1594.66,3884.5,1588.66" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link RocksDbZoneStorage to RocksDB--><g id="link_RocksDbZoneStorage_RocksDB"><path codeLine="336" d="M704.7,507.21 C723.75,537.12 752.25,575.92 785.5,602 C852.69,654.68 899.22,620.6 961.5,679 C990.89,706.56 1008.93,750.9 1017.8,777.85 " fill="none" id="RocksDbZoneStorage-backto-RocksDB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="697.93,496.29,697.6903,503.4971,704.2508,506.4904,704.4905,499.2833,697.93,496.29" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[vLfVR-Is4N_Nf-1RzWgVxzrTRED_oMrhnuQzvm0jYWCjSNU5aqI5f6plNGCqUMaA1CXdo3Uuj3qqQ7lELz1-emx_Y28bQjUNIz00VLbJv6-6m-7CS3Zq1qiXIhxtv4cPuK9KURORq_n9d67E7oSfNZ2SHv7wH4Sf5oozhaHAYz_JWfpY0Yy8GwyYX4vWRDm5JD1B-ENHvqCS5EdfZMnU2ig0cw8mRKcN5eAmEOu9mCun4waaRR2QkjSTCu85SGP6ZyB01H4k2kP2PVCrJIJHDQKPmGLA-HNDi4WpedZTq3H12O75q9NgY075Dd2o6fZXwynJtBG0SNDI29nT4SO1Jv8hd5LaV8hByHIM3yWTJJVDosmoGKAs3rRJvEgcmrW235TGMu4prOl4TTO2lI5BCBm92CtkBWKeL14q2A7x1dRAvVM_sQHVlzSkdSkTu09svHn4E2KvPIjlJPyRu0MDN_2Zw-vwTVS1IgwZ1jc8DiZGutW0R7obXZP1JhKlQ9x65sHE62bYiiyONeqDs4Xdu1F4TOEtU-ee-OmTgYtnHqBwxjDkft7tujtGeqT1HRWwcDsT4e6b8ADdpwP7O9mEcx9oUdSQh51_NEk1i0TIaFqYkIGUnOUVL5cc_CXCtHZ_yLr9Oa6wJ7TGHek5v9VZ8faM2RdpksQ4vLOyS7vwGtov3ol6AHjF5qKgo44wgygCZ2MYcGc208-nTfb3a3iZAYPyL8cAaV4Ly9sWULRnfKAekS6un7vPPYdH8WL7f6HjW7C6Ha4UEq46bd5flCYPKF6DCygTEFhSssWJpK8637lj09J6NxNcsEnASnWfJpblxMg2I94fSModT8IdgskM9hCq1o5mNgezIeNzbZEIeihjBChd3iukPiT7KlbdfwTJsNp8KJM-cg0hnAhY4ARMuILRZJvbiCc7e1ArTHEb7MXQzVmYz_5w9SWV_cYK1ICVCrgLiAnvkgWOjk5SR_S6aEKZEoN51S791U5L9i0pSAA2Wx9jwOaNz7OA7YD_TteR9vgMP7EG5fYj08zmaYWDR-3KEdXB1aCxo0a2ajgOHiEZxJhtevSp-JLbOlFq7JLjatNZgXMVPi67ZTf_pCgtU8KJfDeDqp79935yuuAjmYn7pKr7jOrhr9nK2E52VOHcokWjOGUqAjHq7yV7XM0hC6JoeiSTe9-2OxCSinV-xjtWkAhoKKDDvE-M927a-SCPm2Qq2Nq3eIIGTmmcpXS4N3h69qfMatM6ZetVJC2aR-WBCZ8K5-Ip2fG4ZgZ-Fb9qoiPeSK309CWvIq5jgz4Xn2YOxXEQG6BNjZsAosKb4dfRk67UhYqaOs3f-SqH5hZDJFqKsKiC9fqKbM-vQHGKWZjB5qk1w7nGiBszFjSpkCTaZU1BEDypmX6Syojjb1mLz1REa0J9AMoQf_cwDm68Z77588iJJp5VogKPa9H3nKvft_rzCoZ82PXkEHSkCwPjfgFZHkQEjU2vK9DrxCNiedJtqHJ061GmFjG9JNDwoK7J1TAa1kLPWOvlGmniuDh0mJj0sY1dMzwuSxAqXbZWaY-fkCIGTvrZiOJiKoobPWjUvOIDPqi8L5B14vI0ZO1mchx955iM9nIqOLaCcRldDdCAEIOSigkHMMUJ5JfkSPWl0jlGH0QP-1ZpwmzQm_Mspy2VbGcOxbDbegov3RYTx-fIWsxpa_jBS0MltAF4YGpeERSXGkKiFbdQwt8Sfj7x9M4tQQoZhOnbPwNA644esswfN83MjxpRudYPmbhdF8UktxA6y_4Dk3Yt-wFxeHVwU17mHYc9tc8pcsAbU-tzlGqUAd00GCga3iJEYYPg2RopB5eAPpqdzAM96UtyxQG3fAtKmJtvyHamZZ-hKjRcyettSHblJk0a73ctAV1GlWtwYxmoRSsLxKOEHRZ_pwJtVVBGpdNqFTBIdoV5RCnt_nOxzj_rga2YL7OwtCLnwnGjhEthnVIjCW3l-jlw7gs_gD_Mh-iVrb_Lz-ileVMV-djK_r3Vr_-gNwFwRz2uhxzR_xL-Wm3u_VelzPlwxq077syqxktw6o1yMz_l8CNg7vBhdw7np_ex883M-ilrr-ilrjyW67jT_ni-lghVE8T5A0Wvw_KEZ80QRDV8edv7LkquV7GAD-z2CK-Bb2_FAh6WQR5eA7NfXvilhmpPXN8tNPHnNjU4kh29vSODpfLj9w01LLXkgGvM5Z8iZA_C_JWc07fk5mw3Qc5fCdhaGxlwCUDQHOoGb-GofYLv1k6IdTxeeArFLJEpglpay1FeXn1GmfOJarZuG-eQCmhqsIkEpq_TDeOuci4EJxStp7Lsju5hC-XpzNfzhku1wIdBFGwzWIQBXJD2HSCPlNoHbYCtClguJ1PYm28uXqEj1rFpa094giX7b5s2BuAH3E1CgDM5l82h6YlQOYuFh90kYDZFClqvSiiZfcjJKJXGPGWL5bIXqJrvz9m0jSUFfmWXRnOscJs-YqbfV6NmS7z0WSsUzZ_h0JzGNFh9waagByhJucGmw_87RUAbn_3T1a9lq13sYn3Q-cnAFMY1wiZr7c9oxtFpavc7x0iX9vEpEscB-NBUI2HTDFGS-wl7ZtiFhJsmGddraCYlZkZnRc8HHTu3fWIrxuXxtijasozH_LV7FVKi6VK7TdSddKgDOTp8q2THSWHKljTzftpW8ZS_rktk_gaZOHIenmLGsvuL0oJHO8bCgwad-qQyVv_VnjkJ8wHUH-sjnk4-KgXdCPJAMvPwsjONHHoB2cVPAWg_xgZLToICEdKoEQFficDkPxE2JKk3MRheA5XnqT1kTnIglmn0-zMO0M3KgpkeLJdNxCYzSkibzmJUKmTCjLYY10x-XNokaiM7g5imi4AO-tnttEFU2BHdwWQHAWuq4CCXsdvJKPC6xmy1DKdsOUm7g21WMuAYIYQ8S7n0yY-MH3uNPIXBvoHUnN00oPjBe6OKt9B9kq2x5XgiJ4bWMFxXkhxn_hv7F-oTOOZyGSyEGyGFsjSWvSC80vUqA1gyzlWcv90CKaWxwWxsqBuaEWjmZD992tm1DY4z0vOvGvZTf9D93C82uTV6P5UXEfEDJ4Bh1EWeT4OfBzR_S1Bz5m00]--></g></svg>
