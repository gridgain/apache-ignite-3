<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1041px" preserveAspectRatio="none" style="width:3588px;height:1041px;background:#FFFFFF;" version="1.1" viewBox="0 0 3588 1041" width="3588.6px" zoomAndPan="magnify"><defs/><g><!--class DistributionZoneManager--><g id="elem_DistributionZoneManager"><rect codeLine="3" fill="#F1F1F1" height="38.693" id="DistributionZoneManager" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="130.2" x="841.2" y="104.1"/><ellipse cx="852.9" cy="113.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M854.6839,117.0858 Q854.3353,117.2651 853.9518,117.3548 Q853.5683,117.4444 853.1449,117.4444 Q851.6408,117.4444 850.8489,116.4533 Q850.057,115.4622 850.057,113.5896 Q850.057,111.7119 850.8489,110.7208 Q851.6408,109.7297 853.1449,109.7297 Q853.5683,109.7297 853.9567,109.8193 Q854.3452,109.909 854.6839,110.0883 L854.6839,111.7219 Q854.3054,111.3732 853.9493,111.2114 Q853.5932,111.0495 853.2146,111.0495 Q852.4078,111.0495 851.9969,111.6895 Q851.586,112.3295 851.586,113.5896 Q851.586,114.8446 851.9969,115.4846 Q852.4078,116.1246 853.2146,116.1246 Q853.5932,116.1246 853.9493,115.9627 Q854.3054,115.8009 854.6839,115.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="105" x="861.9" y="116.8746">DistributionZoneManager</text><line style="stroke:#181818;stroke-width:0.3;" x1="841.8" x2="970.8" y1="123.3" y2="123.3"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="123" x="844.8" y="133.8211">List&lt;DistributionZone&gt; zones</text><line style="stroke:#181818;stroke-width:0.3;" x1="841.8" x2="970.8" y1="137.993" y2="137.993"/></g><!--class DistributionZone--><g id="elem_DistributionZone"><rect codeLine="7" fill="#F1F1F1" height="38.693" id="DistributionZone" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="125.4" x="843.6" y="258.3"/><ellipse cx="869.34" cy="267.9" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M871.1239,271.2858 Q870.7753,271.4651 870.3918,271.5548 Q870.0083,271.6444 869.5849,271.6444 Q868.0808,271.6444 867.2889,270.6533 Q866.497,269.6622 866.497,267.7896 Q866.497,265.9119 867.2889,264.9208 Q868.0808,263.9297 869.5849,263.9297 Q870.0083,263.9297 870.3967,264.0193 Q870.7852,264.109 871.1239,264.2883 L871.1239,265.9219 Q870.7454,265.5732 870.3893,265.4114 Q870.0332,265.2495 869.6546,265.2495 Q868.8478,265.2495 868.4369,265.8895 Q868.026,266.5295 868.026,267.7896 Q868.026,269.0446 868.4369,269.6846 Q868.8478,270.3246 869.6546,270.3246 Q870.0332,270.3246 870.3893,270.1627 Q870.7454,270.0009 871.1239,269.6522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="69" x="881.46" y="271.0746">DistributionZone</text><line style="stroke:#181818;stroke-width:0.3;" x1="844.2" x2="968.4" y1="277.5" y2="277.5"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="118.2" x="847.2" y="288.0211">MvZoneStorage zoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="844.2" x2="968.4" y1="292.193" y2="292.193"/></g><!--class MvPartitionStorage--><g id="elem_MvPartitionStorage"><rect codeLine="87" fill="#F1F1F1" height="256.3383" id="MvPartitionStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="514.8" x="510.3" y="601.2"/><ellipse cx="726.15" cy="610.8" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M723.7066,608.2591 L723.7066,606.9642 L728.1343,606.9642 L728.1343,608.2591 L726.6551,608.2591 L726.6551,613.1051 L728.1343,613.1051 L728.1343,614.4 L723.7066,614.4 L723.7066,613.1051 L725.1858,613.1051 L725.1858,608.2591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="78" x="738.45" y="613.9746">MvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="510.9" x2="1024.5" y1="620.4" y2="620.4"/><line style="stroke:#181818;stroke-width:0.3;" x1="510.9" x2="1024.5" y1="625.2" y2="625.2"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="157.8" x="513.9" y="635.7211">MvPartitionStorage createMvPartition()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="202.2" x="513.9" y="645.6141">MvPartitionStorage getMvPartition(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="79.2" x="513.9" y="655.507">boolean isVolatile()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="513.9" y="665.4">void destroy()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="117" x="513.9" y="675.293">clearPartition(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="203.4" x="513.9" y="685.1859">&lt;V&gt; V runConsistently(WriteClosure&lt;V&gt; closure)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="46.2" x="513.9" y="695.0789">void flush()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="96.6" x="513.9" y="704.9719">long lastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="94.8" x="513.9" y="714.8648">long lastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="256.2" x="513.9" y="724.7578">void lastApplied(long lastAppliedIndex, long lastAppliedTerm)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="88.2" x="513.9" y="734.6508">long persistedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="159" x="513.9" y="744.5437">byte[] committedGroupConfiguration()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="204.6" x="513.9" y="754.4367">void committedGroupConfiguration(byte[] config)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="292.8" x="513.9" y="764.3297">ReadResult read(int tableId, RowId rowId, HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="507.6" x="513.9" y="774.2227">BinaryRow addWrite(int tableId, RowId rowId, @Nullable BinaryRow row, UUID txId, int commitTableId, int commitPartitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="191.4" x="513.9" y="784.1156">BinaryRow abortWrite(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="297.6" x="513.9" y="794.0086">void commitWrite(int tableId, RowId rowId, HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="469.8" x="513.9" y="803.9016">void addWriteCommitted(int tableId, RowId rowId, @Nullable BinaryRow row, HybridTimestamp commitTimestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="246.6" x="513.9" y="813.7945">Cursor&lt;ReadResult&gt; scanVersions(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="253.8" x="513.9" y="823.6875">PartitionTimestampCursor scan(HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="210" x="513.9" y="833.5805">RowId closestRowId(int tableId, RowId lowerBound)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="193.2" x="513.9" y="843.4734">GcEntry peek(HybridTimestamp lowWatermark)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="137.4" x="513.9" y="853.3664">BinaryRow vacuum(GcEntry entry)</text></g><!--class TableManager--><g id="elem_TableManager"><rect codeLine="19" fill="#F1F1F1" height="38.693" id="TableManager" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="288" x="1526.7" y="9.3"/><ellipse cx="1638.75" cy="18.9" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1640.5339,22.2858 Q1640.1853,22.4651 1639.8018,22.5548 Q1639.4183,22.6444 1638.9949,22.6444 Q1637.4908,22.6444 1636.6989,21.6533 Q1635.907,20.6622 1635.907,18.7896 Q1635.907,16.9119 1636.6989,15.9208 Q1637.4908,14.9297 1638.9949,14.9297 Q1639.4183,14.9297 1639.8067,15.0193 Q1640.1952,15.109 1640.5339,15.2883 L1640.5339,16.9219 Q1640.1554,16.5732 1639.7993,16.4114 Q1639.4432,16.2495 1639.0646,16.2495 Q1638.2578,16.2495 1637.8469,16.8895 Q1637.436,17.5295 1637.436,18.7896 Q1637.436,20.0446 1637.8469,20.6846 Q1638.2578,21.3246 1639.0646,21.3246 Q1639.4432,21.3246 1639.7993,21.1627 Q1640.1554,21.0009 1640.5339,20.6522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="58.8" x="1651.05" y="22.0746">TableManager</text><line style="stroke:#181818;stroke-width:0.3;" x1="1527.3" x2="1814.1" y1="28.5" y2="28.5"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="280.8" x="1530.3" y="39.0211">IncrementalVersionedValue&lt;Map&lt;Integer, TableImpl&gt;&gt; tableByIdVv</text><line style="stroke:#181818;stroke-width:0.3;" x1="1527.3" x2="1814.1" y1="43.193" y2="43.193"/></g><!--class TableImpl--><g id="elem_TableImpl"><rect codeLine="23" fill="#F1F1F1" height="38.693" id="TableImpl" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="75" x="1633.2" y="104.1"/><ellipse cx="1648.95" cy="113.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1650.7339,117.0858 Q1650.3853,117.2651 1650.0018,117.3548 Q1649.6183,117.4444 1649.1949,117.4444 Q1647.6908,117.4444 1646.8989,116.4533 Q1646.107,115.4622 1646.107,113.5896 Q1646.107,111.7119 1646.8989,110.7208 Q1647.6908,109.7297 1649.1949,109.7297 Q1649.6183,109.7297 1650.0067,109.8193 Q1650.3952,109.909 1650.7339,110.0883 L1650.7339,111.7219 Q1650.3554,111.3732 1649.9993,111.2114 Q1649.6432,111.0495 1649.2646,111.0495 Q1648.4578,111.0495 1648.0469,111.6895 Q1647.636,112.3295 1647.636,113.5896 Q1647.636,114.8446 1648.0469,115.4846 Q1648.4578,116.1246 1649.2646,116.1246 Q1649.6432,116.1246 1649.9993,115.9627 Q1650.3554,115.8009 1650.7339,115.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="40.8" x="1658.85" y="116.8746">TableImpl</text><line style="stroke:#181818;stroke-width:0.3;" x1="1633.8" x2="1707.6" y1="123.3" y2="123.3"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="67.8" x="1636.8" y="133.8211">InternalTable tbl</text><line style="stroke:#181818;stroke-width:0.3;" x1="1633.8" x2="1707.6" y1="137.993" y2="137.993"/></g><!--class InternalTableImpl--><g id="elem_InternalTableImpl"><rect codeLine="27" fill="#F1F1F1" height="48.5859" id="InternalTableImpl" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="156" x="1560.9" y="253.2"/><ellipse cx="1600.05" cy="262.8" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1601.8339,266.1858 Q1601.4853,266.3651 1601.1018,266.4548 Q1600.7183,266.5444 1600.2949,266.5444 Q1598.7908,266.5444 1597.9989,265.5533 Q1597.207,264.5622 1597.207,262.6896 Q1597.207,260.8119 1597.9989,259.8208 Q1598.7908,258.8297 1600.2949,258.8297 Q1600.7183,258.8297 1601.1067,258.9193 Q1601.4952,259.009 1601.8339,259.1883 L1601.8339,260.8219 Q1601.4554,260.4732 1601.0993,260.3114 Q1600.7432,260.1495 1600.3646,260.1495 Q1599.5578,260.1495 1599.1469,260.7895 Q1598.736,261.4295 1598.736,262.6896 Q1598.736,263.9446 1599.1469,264.5846 Q1599.5578,265.2246 1600.3646,265.2246 Q1600.7432,265.2246 1601.0993,265.0627 Q1601.4554,264.9009 1601.8339,264.5522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="72.6" x="1612.35" y="265.9746">InternalTableImpl</text><line style="stroke:#181818;stroke-width:0.3;" x1="1561.5" x2="1716.3" y1="272.4" y2="272.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="118.2" x="1564.5" y="282.9211">MvZoneStorage zoneStorage</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="148.8" x="1564.5" y="292.8141">TxStateTableStorage txStateStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="1561.5" x2="1716.3" y1="296.9859" y2="296.9859"/></g><!--class MvZoneStorage--><g id="elem_MvZoneStorage"><rect codeLine="32" fill="#F1F1F1" height="78.2648" id="MvZoneStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="209.4" x="663" y="442.2"/><ellipse cx="733.35" cy="451.8" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M730.9066,449.2591 L730.9066,447.9642 L735.3343,447.9642 L735.3343,449.2591 L733.8551,449.2591 L733.8551,454.1051 L735.3343,454.1051 L735.3343,455.4 L730.9066,455.4 L730.9066,454.1051 L732.3858,454.1051 L732.3858,449.2591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="63.6" x="745.65" y="454.9746">MvZoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="663.6" x2="871.8" y1="461.4" y2="461.4"/><line style="stroke:#181818;stroke-width:0.3;" x1="663.6" x2="871.8" y1="466.2" y2="466.2"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="157.8" x="666.6" y="476.7211">MvPartitionStorage createMvPartition()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="202.2" x="666.6" y="486.6141">MvPartitionStorage getMvPartition(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="81.6" x="666.6" y="496.507">boolean isVolatile();</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="666.6" y="506.4">void destroy()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="117" x="666.6" y="516.293">clearPartition(int partitionId)</text></g><!--class PersistentPageMemoryZoneStorage--><g id="elem_PersistentPageMemoryZoneStorage"><rect codeLine="40" fill="#F1F1F1" height="28.8" id="PersistentPageMemoryZoneStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="164.4" x="657.9" y="263.1"/><ellipse cx="666.9" cy="272.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M668.6839,276.0858 Q668.3353,276.2651 667.9518,276.3548 Q667.5683,276.4444 667.1449,276.4444 Q665.6408,276.4444 664.8489,275.4533 Q664.057,274.4622 664.057,272.5896 Q664.057,270.7119 664.8489,269.7208 Q665.6408,268.7297 667.1449,268.7297 Q667.5683,268.7297 667.9567,268.8193 Q668.3452,268.909 668.6839,269.0883 L668.6839,270.7219 Q668.3054,270.3732 667.9493,270.2114 Q667.5932,270.0495 667.2146,270.0495 Q666.4078,270.0495 665.9969,270.6895 Q665.586,271.3295 665.586,272.5896 Q665.586,273.8446 665.9969,274.4846 Q666.4078,275.1246 667.2146,275.1246 Q667.5932,275.1246 667.9493,274.9627 Q668.3054,274.8009 668.6839,274.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="145.2" x="675.3" y="275.8746">PersistentPageMemoryZoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="658.5" x2="821.7" y1="282.3" y2="282.3"/><line style="stroke:#181818;stroke-width:0.3;" x1="658.5" x2="821.7" y1="287.1" y2="287.1"/></g><!--class RocksDbZoneStorage--><g id="elem_RocksDbZoneStorage"><rect codeLine="41" fill="#F1F1F1" height="38.693" id="RocksDbZoneStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="106.8" x="354.3" y="258.3"/><ellipse cx="363.3" cy="267.9" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M365.0839,271.2858 Q364.7353,271.4651 364.3518,271.5548 Q363.9683,271.6444 363.5449,271.6444 Q362.0408,271.6444 361.2489,270.6533 Q360.457,269.6622 360.457,267.7896 Q360.457,265.9119 361.2489,264.9208 Q362.0408,263.9297 363.5449,263.9297 Q363.9683,263.9297 364.3567,264.0193 Q364.7452,264.109 365.0839,264.2883 L365.0839,265.9219 Q364.7054,265.5732 364.3493,265.4114 Q363.9932,265.2495 363.6146,265.2495 Q362.8078,265.2495 362.3969,265.8895 Q361.986,266.5295 361.986,267.7896 Q361.986,269.0446 362.3969,269.6846 Q362.8078,270.3246 363.6146,270.3246 Q363.9932,270.3246 364.3493,270.1627 Q364.7054,270.0009 365.0839,269.6522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="87.6" x="371.7" y="271.0746">RocksDbZoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="354.9" x2="460.5" y1="277.5" y2="277.5"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="48" x="357.9" y="288.0211">RocksDB db</text><line style="stroke:#181818;stroke-width:0.3;" x1="354.9" x2="460.5" y1="292.193" y2="292.193"/></g><!--class VolatilePageMemoryZoneStorage--><g id="elem_VolatilePageMemoryZoneStorage"><rect codeLine="44" fill="#F1F1F1" height="28.8" id="VolatilePageMemoryZoneStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="154.8" x="482.1" y="263.1"/><ellipse cx="491.1" cy="272.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M492.8839,276.0858 Q492.5353,276.2651 492.1518,276.3548 Q491.7683,276.4444 491.3449,276.4444 Q489.8408,276.4444 489.0489,275.4533 Q488.257,274.4622 488.257,272.5896 Q488.257,270.7119 489.0489,269.7208 Q489.8408,268.7297 491.3449,268.7297 Q491.7683,268.7297 492.1567,268.8193 Q492.5452,268.909 492.8839,269.0883 L492.8839,270.7219 Q492.5054,270.3732 492.1493,270.2114 Q491.7932,270.0495 491.4146,270.0495 Q490.6078,270.0495 490.1969,270.6895 Q489.786,271.3295 489.786,272.5896 Q489.786,273.8446 490.1969,274.4846 Q490.6078,275.1246 491.4146,275.1246 Q491.7932,275.1246 492.1493,274.9627 Q492.5054,274.8009 492.8839,274.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="135.6" x="499.5" y="275.8746">VolatilePageMemoryZoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="482.7" x2="636.3" y1="282.3" y2="282.3"/><line style="stroke:#181818;stroke-width:0.3;" x1="482.7" x2="636.3" y1="287.1" y2="287.1"/></g><!--class RocksDB--><g id="elem_RocksDB"><rect codeLine="46" fill="#F1F1F1" height="28.8" id="RocksDB" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="54" x="587.7" y="466.8"/><ellipse cx="596.7" cy="476.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M598.4839,479.7858 Q598.1353,479.9651 597.7518,480.0548 Q597.3683,480.1444 596.9449,480.1444 Q595.4408,480.1444 594.6489,479.1533 Q593.857,478.1622 593.857,476.2896 Q593.857,474.4119 594.6489,473.4208 Q595.4408,472.4297 596.9449,472.4297 Q597.3683,472.4297 597.7567,472.5193 Q598.1452,472.609 598.4839,472.7883 L598.4839,474.4219 Q598.1054,474.0732 597.7493,473.9114 Q597.3932,473.7495 597.0146,473.7495 Q596.2078,473.7495 595.7969,474.3895 Q595.386,475.0295 595.386,476.2896 Q595.386,477.5446 595.7969,478.1846 Q596.2078,478.8246 597.0146,478.8246 Q597.3932,478.8246 597.7493,478.6627 Q598.1054,478.5009 598.4839,478.1522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="34.8" x="605.1" y="479.5746">RocksDB</text><line style="stroke:#181818;stroke-width:0.3;" x1="588.3" x2="641.1" y1="486" y2="486"/><line style="stroke:#181818;stroke-width:0.3;" x1="588.3" x2="641.1" y1="490.8" y2="490.8"/></g><!--class TxStateTableStorage--><g id="elem_TxStateTableStorage"><rect codeLine="50" fill="#F1F1F1" height="78.2648" id="TxStateTableStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="248.4" x="2050.5" y="442.2"/><ellipse cx="2129.25" cy="451.8" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2126.8066,449.2591 L2126.8066,447.9642 L2131.2343,447.9642 L2131.2343,449.2591 L2129.7551,449.2591 L2129.7551,454.1051 L2131.2343,454.1051 L2131.2343,455.4 L2126.8066,455.4 L2126.8066,454.1051 L2128.2858,454.1051 L2128.2858,449.2591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="85.8" x="2141.55" y="454.9746">TxStateTableStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="2051.1" x2="2298.3" y1="461.4" y2="461.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="241.2" x="2054.1" y="471.9211">AtomicReferenceArray&lt;TxStateRocksDbStorage&gt; storages</text><line style="stroke:#181818;stroke-width:0.3;" x1="2051.1" x2="2298.3" y1="476.093" y2="476.093"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="241.2" x="2054.1" y="486.6141">TxStateStorage getOrCreateTxStateStorage(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="204" x="2054.1" y="496.507">TxStateStorage getTxStateStorage(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="175.8" x="2054.1" y="506.4">void destroyTxStateStorage(int partitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="2054.1" y="516.293">void destroy()</text></g><!--class TxStateStorage--><g id="elem_TxStateStorage"><rect codeLine="58" fill="#F1F1F1" height="147.5156" id="TxStateStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="546" x="2057.7" y="655.5"/><ellipse cx="2296.65" cy="665.1" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2294.2066,662.5591 L2294.2066,661.2642 L2298.6343,661.2642 L2298.6343,662.5591 L2297.1551,662.5591 L2297.1551,667.4051 L2298.6343,667.4051 L2298.6343,668.7 L2294.2066,668.7 L2294.2066,667.4051 L2295.6858,667.4051 L2295.6858,662.5591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="63" x="2308.95" y="668.2746">TxStateStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="2058.3" x2="2603.1" y1="674.7" y2="674.7"/><line style="stroke:#181818;stroke-width:0.3;" x1="2058.3" x2="2603.1" y1="679.5" y2="679.5"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="91.2" x="2061.3" y="690.0211">TxMeta get(UUID txId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="144.6" x="2061.3" y="699.9141">void put(UUID txId, TxMeta txMeta)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="538.8" x="2061.3" y="709.807">boolean compareAndSet(UUID txId, @Nullable TxState txStateExpected, TxMeta txMeta, long commandIndex, long commandTerm)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="95.4" x="2061.3" y="719.7">void remove(UUID txId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="191.4" x="2061.3" y="729.593">Cursor&lt;IgniteBiTuple&lt;UUID, TxMeta&gt;&gt; scan()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="139.8" x="2061.3" y="739.4859">CompletableFuture&lt;Void&gt; flush()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="96.6" x="2061.3" y="749.3789">long lastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="94.8" x="2061.3" y="759.2719">long lastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="256.2" x="2061.3" y="769.1648">void lastApplied(long lastAppliedIndex, long lastAppliedTerm)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="88.2" x="2061.3" y="779.0578">long persistedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="46.8" x="2061.3" y="788.9508">void close()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="60.6" x="2061.3" y="798.8438">void _destroy()</text></g><!--class TxStateRocksDbStorage--><g id="elem_TxStateRocksDbStorage"><rect codeLine="73" fill="#F1F1F1" height="28.8" id="TxStateRocksDbStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="117.6" x="2362.5" y="466.8"/><ellipse cx="2371.5" cy="476.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2373.2839,479.7858 Q2372.9353,479.9651 2372.5518,480.0548 Q2372.1683,480.1444 2371.7449,480.1444 Q2370.2408,480.1444 2369.4489,479.1533 Q2368.657,478.1622 2368.657,476.2896 Q2368.657,474.4119 2369.4489,473.4208 Q2370.2408,472.4297 2371.7449,472.4297 Q2372.1683,472.4297 2372.5567,472.5193 Q2372.9452,472.609 2373.2839,472.7883 L2373.2839,474.4219 Q2372.9054,474.0732 2372.5493,473.9114 Q2372.1932,473.7495 2371.8146,473.7495 Q2371.0078,473.7495 2370.5969,474.3895 Q2370.186,475.0295 2370.186,476.2896 Q2370.186,477.5446 2370.5969,478.1846 Q2371.0078,478.8246 2371.8146,478.8246 Q2372.1932,478.8246 2372.5493,478.6627 Q2372.9054,478.5009 2373.2839,478.1522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="98.4" x="2379.9" y="479.5746">TxStateRocksDbStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="2363.1" x2="2479.5" y1="486" y2="486"/><line style="stroke:#181818;stroke-width:0.3;" x1="2363.1" x2="2479.5" y1="490.8" y2="490.8"/></g><!--class TxMeta--><g id="elem_TxMeta"><rect codeLine="76" fill="#F1F1F1" height="58.4789" id="TxMeta" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="173.4" x="2244" y="894"/><ellipse cx="2312.85" cy="903.6" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2314.6339,906.9858 Q2314.2853,907.1651 2313.9018,907.2548 Q2313.5183,907.3444 2313.0949,907.3444 Q2311.5908,907.3444 2310.7989,906.3533 Q2310.007,905.3622 2310.007,903.4896 Q2310.007,901.6119 2310.7989,900.6208 Q2311.5908,899.6297 2313.0949,899.6297 Q2313.5183,899.6297 2313.9067,899.7193 Q2314.2952,899.809 2314.6339,899.9883 L2314.6339,901.6219 Q2314.2554,901.2732 2313.8993,901.1114 Q2313.5432,900.9495 2313.1646,900.9495 Q2312.3578,900.9495 2311.9469,901.5895 Q2311.536,902.2295 2311.536,903.4896 Q2311.536,904.7446 2311.9469,905.3846 Q2312.3578,906.0246 2313.1646,906.0246 Q2313.5432,906.0246 2313.8993,905.8627 Q2314.2554,905.7009 2314.6339,905.3522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="30.6" x="2325.15" y="906.7746">TxMeta</text><line style="stroke:#181818;stroke-width:0.3;" x1="2244.6" x2="2416.8" y1="913.2" y2="913.2"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="62.4" x="2247.6" y="923.7211">TxState txState</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="166.2" x="2247.6" y="933.6141">List&lt;TablePartitionId&gt; enlistedPartitions</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="151.2" x="2247.6" y="943.507">HybridTimestamp commitTimestamp</text><line style="stroke:#181818;stroke-width:0.3;" x1="2244.6" x2="2416.8" y1="947.6789" y2="947.6789"/></g><!--class TxState--><g id="elem_TxState"><rect codeLine="82" fill="#F1F1F1" height="48.5859" id="TxState" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="52.8" x="2304.3" y="988.8"/><ellipse cx="2314.38" cy="998.4" fill="#EB937F" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2316.8486,1002 L2312.2167,1002 L2312.2167,994.5642 L2316.8486,994.5642 L2316.8486,995.8591 L2313.686,995.8591 L2313.686,997.4628 L2316.5497,997.4628 L2316.5497,998.7577 L2313.686,998.7577 L2313.686,1000.7051 L2316.8486,1000.7051 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="31.2" x="2323.02" y="1001.5746">TxState</text><line style="stroke:#181818;stroke-width:0.3;" x1="2304.9" x2="2356.5" y1="1008" y2="1008"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="39" x="2307.9" y="1018.5211">ABORTED</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="45.6" x="2307.9" y="1028.4141">COMMITED</text><line style="stroke:#181818;stroke-width:0.3;" x1="2304.9" x2="2356.5" y1="1032.5859" y2="1032.5859"/></g><!--class PersistentPageMemoryMvPartitionStorage--><g id="elem_PersistentPageMemoryMvPartitionStorage"><rect codeLine="108" fill="#F1F1F1" height="28.8" id="PersistentPageMemoryMvPartitionStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="190.2" x="4.2" y="466.8"/><ellipse cx="13.2" cy="476.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M14.9839,479.7858 Q14.6353,479.9651 14.2518,480.0548 Q13.8683,480.1444 13.4449,480.1444 Q11.9408,480.1444 11.1489,479.1533 Q10.357,478.1622 10.357,476.2896 Q10.357,474.4119 11.1489,473.4208 Q11.9408,472.4297 13.4449,472.4297 Q13.8683,472.4297 14.2567,472.5193 Q14.6452,472.609 14.9839,472.7883 L14.9839,474.4219 Q14.6054,474.0732 14.2493,473.9114 Q13.8932,473.7495 13.5146,473.7495 Q12.7078,473.7495 12.2969,474.3895 Q11.886,475.0295 11.886,476.2896 Q11.886,477.5446 12.2969,478.1846 Q12.7078,478.8246 13.5146,478.8246 Q13.8932,478.8246 14.2493,478.6627 Q14.6054,478.5009 14.9839,478.1522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="171" x="21.6" y="479.5746">PersistentPageMemoryMvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="4.8" x2="193.8" y1="486" y2="486"/><line style="stroke:#181818;stroke-width:0.3;" x1="4.8" x2="193.8" y1="490.8" y2="490.8"/></g><!--class VolatilePageMemoryMvPartitionStorage--><g id="elem_VolatilePageMemoryMvPartitionStorage"><rect codeLine="109" fill="#F1F1F1" height="28.8" id="VolatilePageMemoryMvPartitionStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="180.6" x="215.4" y="466.8"/><ellipse cx="224.4" cy="476.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M226.1839,479.7858 Q225.8353,479.9651 225.4518,480.0548 Q225.0683,480.1444 224.6449,480.1444 Q223.1408,480.1444 222.3489,479.1533 Q221.557,478.1622 221.557,476.2896 Q221.557,474.4119 222.3489,473.4208 Q223.1408,472.4297 224.6449,472.4297 Q225.0683,472.4297 225.4567,472.5193 Q225.8452,472.609 226.1839,472.7883 L226.1839,474.4219 Q225.8054,474.0732 225.4493,473.9114 Q225.0932,473.7495 224.7146,473.7495 Q223.9078,473.7495 223.4969,474.3895 Q223.086,475.0295 223.086,476.2896 Q223.086,477.5446 223.4969,478.1846 Q223.9078,478.8246 224.7146,478.8246 Q225.0932,478.8246 225.4493,478.6627 Q225.8054,478.5009 226.1839,478.1522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="161.4" x="232.8" y="479.5746">VolatilePageMemoryMvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="216" x2="395.4" y1="486" y2="486"/><line style="stroke:#181818;stroke-width:0.3;" x1="216" x2="395.4" y1="490.8" y2="490.8"/></g><!--class RocksDbMvPartitionStorage--><g id="elem_RocksDbMvPartitionStorage"><rect codeLine="110" fill="#F1F1F1" height="38.693" id="RocksDbMvPartitionStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="149.4" x="417" y="462"/><ellipse cx="433.56" cy="471.6" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M435.3439,474.9858 Q434.9953,475.1651 434.6118,475.2548 Q434.2283,475.3444 433.8049,475.3444 Q432.3008,475.3444 431.5089,474.3533 Q430.717,473.3622 430.717,471.4896 Q430.717,469.6119 431.5089,468.6208 Q432.3008,467.6297 433.8049,467.6297 Q434.2283,467.6297 434.6167,467.7193 Q435.0052,467.809 435.3439,467.9883 L435.3439,469.6219 Q434.9654,469.2732 434.6093,469.1114 Q434.2532,468.9495 433.8746,468.9495 Q433.0678,468.9495 432.6569,469.5895 Q432.246,470.2295 432.246,471.4896 Q432.246,472.7446 432.6569,473.3846 Q433.0678,474.0246 433.8746,474.0246 Q434.2532,474.0246 434.6093,473.8627 Q434.9654,473.7009 435.3439,473.3522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="113.4" x="443.64" y="474.7746">RocksDbMvPartitionStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="417.6" x2="565.8" y1="481.2" y2="481.2"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="142.2" x="420.6" y="491.7211">RocksDbZoneStorage zoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="417.6" x2="565.8" y1="495.893" y2="495.893"/></g><!--class ReplicaListener--><g id="elem_ReplicaListener"><rect codeLine="114" fill="#F1F1F1" height="58.4789" id="ReplicaListener" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="234.6" x="945.6" y="452.1"/><ellipse cx="1029.45" cy="461.7" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1027.0066,459.1591 L1027.0066,457.8642 L1031.4343,457.8642 L1031.4343,459.1591 L1029.9551,459.1591 L1029.9551,464.0051 L1031.4343,464.0051 L1031.4343,465.3 L1027.0066,465.3 L1027.0066,464.0051 L1028.4858,464.0051 L1028.4858,459.1591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="61.8" x="1041.75" y="464.8746">ReplicaListener</text><line style="stroke:#181818;stroke-width:0.3;" x1="946.2" x2="1179.6" y1="471.3" y2="471.3"/><line style="stroke:#181818;stroke-width:0.3;" x1="946.2" x2="1179.6" y1="476.1" y2="476.1"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="227.4" x="949.2" y="486.6211">CompletableFuture&lt;?&gt; invoke(ReplicaRequest request)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="202.2" x="949.2" y="496.5141">void onBecomePrimary(ClusterNode clusterNode)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="78" x="949.2" y="506.407">void onShutdown()</text></g><!--class PartitionReplicaListener--><g id="elem_PartitionReplicaListener"><rect codeLine="120" fill="#F1F1F1" height="58.4789" id="PartitionReplicaListener" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="202.2" x="990" y="248.4"/><ellipse cx="1040.25" cy="258" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1042.0339,261.3858 Q1041.6853,261.5651 1041.3018,261.6548 Q1040.9183,261.7444 1040.4949,261.7444 Q1038.9908,261.7444 1038.1989,260.7533 Q1037.407,259.7622 1037.407,257.8896 Q1037.407,256.0119 1038.1989,255.0208 Q1038.9908,254.0297 1040.4949,254.0297 Q1040.9183,254.0297 1041.3067,254.1193 Q1041.6952,254.209 1042.0339,254.3883 L1042.0339,256.0219 Q1041.6554,255.6732 1041.2993,255.5114 Q1040.9432,255.3495 1040.5646,255.3495 Q1039.7578,255.3495 1039.3469,255.9895 Q1038.936,256.6295 1038.936,257.8896 Q1038.936,259.1446 1039.3469,259.7846 Q1039.7578,260.4246 1040.5646,260.4246 Q1040.9432,260.4246 1041.2993,260.2627 Q1041.6554,260.1009 1042.0339,259.7522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="96.6" x="1052.55" y="261.1746">PartitionReplicaListener</text><line style="stroke:#181818;stroke-width:0.3;" x1="990.6" x2="1191.6" y1="267.6" y2="267.6"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="142.8" x="993.6" y="278.1211">MvPartitionStorage mvDataStorage</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="195" x="993.6" y="288.0141">Map&lt;Integer, TxStateStorage&gt; txStateStorages</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="118.2" x="993.6" y="297.907">MvZoneStorage zoneStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="990.6" x2="1191.6" y1="302.0789" y2="302.0789"/></g><path d="M1213.5,267 L1213.5,272.1932 L1188.6,284.8395 L1213.5,276.9932 L1213.5,282.1863 A0,0 0 0 0 1213.5,282.1863 L1369.5,282.1863 A0,0 0 0 0 1369.5,282.1863 L1369.5,273 L1363.5,267 L1213.5,267 A0,0 0 0 0 1213.5,267 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><path d="M1363.5,267 L1363.5,273 L1369.5,273 L1363.5,267 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="143.4" x="1217.1" y="277.541">One listener handles many tables now</text><!--class ReplicaManager--><g id="elem_ReplicaManager"><rect codeLine="129" fill="#F1F1F1" height="38.693" id="ReplicaManager" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="345" x="1267.2" y="104.1"/><ellipse cx="1404.45" cy="113.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1406.2339,117.0858 Q1405.8853,117.2651 1405.5018,117.3548 Q1405.1183,117.4444 1404.6949,117.4444 Q1403.1908,117.4444 1402.3989,116.4533 Q1401.607,115.4622 1401.607,113.5896 Q1401.607,111.7119 1402.3989,110.7208 Q1403.1908,109.7297 1404.6949,109.7297 Q1405.1183,109.7297 1405.5067,109.8193 Q1405.8952,109.909 1406.2339,110.0883 L1406.2339,111.7219 Q1405.8554,111.3732 1405.4993,111.2114 Q1405.1432,111.0495 1404.7646,111.0495 Q1403.9578,111.0495 1403.5469,111.6895 Q1403.136,112.3295 1403.136,113.5896 Q1403.136,114.8446 1403.5469,115.4846 Q1403.9578,116.1246 1404.7646,116.1246 Q1405.1432,116.1246 1405.4993,115.9627 Q1405.8554,115.8009 1406.2339,115.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="65.4" x="1416.75" y="116.8746">ReplicaManager</text><line style="stroke:#181818;stroke-width:0.3;" x1="1267.8" x2="1611.6" y1="123.3" y2="123.3"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="337.8" x="1270.8" y="133.8211">ConcurrentHashMap&lt;ReplicationGroupId, CompletableFuture&lt;Replica&gt;&gt; replicas</text><line style="stroke:#181818;stroke-width:0.3;" x1="1267.8" x2="1611.6" y1="137.993" y2="137.993"/></g><!--class Replica--><g id="elem_Replica"><rect codeLine="133" fill="#F1F1F1" height="38.693" id="Replica" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="102" x="1390.5" y="258.3"/><ellipse cx="1424.25" cy="267.9" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1426.0339,271.2858 Q1425.6853,271.4651 1425.3018,271.5548 Q1424.9183,271.6444 1424.4949,271.6444 Q1422.9908,271.6444 1422.1989,270.6533 Q1421.407,269.6622 1421.407,267.7896 Q1421.407,265.9119 1422.1989,264.9208 Q1422.9908,263.9297 1424.4949,263.9297 Q1424.9183,263.9297 1425.3067,264.0193 Q1425.6952,264.109 1426.0339,264.2883 L1426.0339,265.9219 Q1425.6554,265.5732 1425.2993,265.4114 Q1424.9432,265.2495 1424.5646,265.2495 Q1423.7578,265.2495 1423.3469,265.8895 Q1422.936,266.5295 1422.936,267.7896 Q1422.936,269.0446 1423.3469,269.6846 Q1423.7578,270.3246 1424.5646,270.3246 Q1424.9432,270.3246 1425.2993,270.1627 Q1425.6554,270.0009 1426.0339,269.6522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="29.4" x="1436.55" y="271.0746">Replica</text><line style="stroke:#181818;stroke-width:0.3;" x1="1391.1" x2="1491.9" y1="277.5" y2="277.5"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="94.8" x="1394.1" y="288.0211">ReplicaListener listener</text><line style="stroke:#181818;stroke-width:0.3;" x1="1391.1" x2="1491.9" y1="292.193" y2="292.193"/></g><!--class RaftGroupListener--><g id="elem_RaftGroupListener"><rect codeLine="137" fill="#F1F1F1" height="98.0508" id="RaftGroupListener" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="292.8" x="3161.7" y="432.3"/><ellipse cx="3268.35" cy="441.9" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3265.9066,439.3591 L3265.9066,438.0642 L3270.3343,438.0642 L3270.3343,439.3591 L3268.8551,439.3591 L3268.8551,444.2051 L3270.3343,444.2051 L3270.3343,445.5 L3265.9066,445.5 L3265.9066,444.2051 L3267.3858,444.2051 L3267.3858,439.3591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="74.4" x="3280.65" y="445.0746">RaftGroupListener</text><line style="stroke:#181818;stroke-width:0.3;" x1="3162.3" x2="3453.9" y1="451.5" y2="451.5"/><line style="stroke:#181818;stroke-width:0.3;" x1="3162.3" x2="3453.9" y1="456.3" y2="456.3"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="284.4" x="3165.3" y="466.8211">void onRead(Iterator&lt;CommandClosure&lt;ReadCommand&gt;&gt; iterator)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="285.6" x="3165.3" y="476.7141">void onWrite(Iterator&lt;CommandClosure&lt;WriteCommand&gt;&gt; iterator)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="271.2" x="3165.3" y="486.607">void onConfigurationCommitted(CommittedConfiguration config)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="274.2" x="3165.3" y="496.5">void onSnapshotSave(Path path, Consumer&lt;Throwable&gt; doneClo)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="150" x="3165.3" y="506.393">boolean onSnapshotLoad(Path path)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="78" x="3165.3" y="516.2859">void onShutdown()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="172.2" x="3165.3" y="526.1789">void onBeforeApply(Command command)</text></g><!--class CmgRaftGroupListener--><g id="elem_CmgRaftGroupListener"><rect codeLine="147" fill="#F1F1F1" height="28.8" id="CmgRaftGroupListener" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="112.8" x="3122.7" y="263.1"/><ellipse cx="3131.7" cy="272.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3133.4839,276.0858 Q3133.1353,276.2651 3132.7518,276.3548 Q3132.3683,276.4444 3131.9449,276.4444 Q3130.4408,276.4444 3129.6489,275.4533 Q3128.857,274.4622 3128.857,272.5896 Q3128.857,270.7119 3129.6489,269.7208 Q3130.4408,268.7297 3131.9449,268.7297 Q3132.3683,268.7297 3132.7567,268.8193 Q3133.1452,268.909 3133.4839,269.0883 L3133.4839,270.7219 Q3133.1054,270.3732 3132.7493,270.2114 Q3132.3932,270.0495 3132.0146,270.0495 Q3131.2078,270.0495 3130.7969,270.6895 Q3130.386,271.3295 3130.386,272.5896 Q3130.386,273.8446 3130.7969,274.4846 Q3131.2078,275.1246 3132.0146,275.1246 Q3132.3932,275.1246 3132.7493,274.9627 Q3133.1054,274.8009 3133.4839,274.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="93.6" x="3140.1" y="275.8746">CmgRaftGroupListener</text><line style="stroke:#181818;stroke-width:0.3;" x1="3123.3" x2="3234.9" y1="282.3" y2="282.3"/><line style="stroke:#181818;stroke-width:0.3;" x1="3123.3" x2="3234.9" y1="287.1" y2="287.1"/></g><!--class MetaStorageListener--><g id="elem_MetaStorageListener"><rect codeLine="148" fill="#F1F1F1" height="28.8" id="MetaStorageListener" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="103.2" x="3256.5" y="263.1"/><ellipse cx="3265.5" cy="272.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3267.2839,276.0858 Q3266.9353,276.2651 3266.5518,276.3548 Q3266.1683,276.4444 3265.7449,276.4444 Q3264.2408,276.4444 3263.4489,275.4533 Q3262.657,274.4622 3262.657,272.5896 Q3262.657,270.7119 3263.4489,269.7208 Q3264.2408,268.7297 3265.7449,268.7297 Q3266.1683,268.7297 3266.5567,268.8193 Q3266.9452,268.909 3267.2839,269.0883 L3267.2839,270.7219 Q3266.9054,270.3732 3266.5493,270.2114 Q3266.1932,270.0495 3265.8146,270.0495 Q3265.0078,270.0495 3264.5969,270.6895 Q3264.186,271.3295 3264.186,272.5896 Q3264.186,273.8446 3264.5969,274.4846 Q3265.0078,275.1246 3265.8146,275.1246 Q3266.1932,275.1246 3266.5493,274.9627 Q3266.9054,274.8009 3267.2839,274.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="84" x="3273.9" y="275.8746">MetaStorageListener</text><line style="stroke:#181818;stroke-width:0.3;" x1="3257.1" x2="3359.1" y1="282.3" y2="282.3"/><line style="stroke:#181818;stroke-width:0.3;" x1="3257.1" x2="3359.1" y1="287.1" y2="287.1"/></g><!--class PartitionListener--><g id="elem_PartitionListener"><rect codeLine="149" fill="#F1F1F1" height="48.5859" id="PartitionListener" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="202.2" x="1738.2" y="253.2"/><ellipse cx="1803.15" cy="262.8" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1804.9339,266.1858 Q1804.5853,266.3651 1804.2018,266.4548 Q1803.8183,266.5444 1803.3949,266.5444 Q1801.8908,266.5444 1801.0989,265.5533 Q1800.307,264.5622 1800.307,262.6896 Q1800.307,260.8119 1801.0989,259.8208 Q1801.8908,258.8297 1803.3949,258.8297 Q1803.8183,258.8297 1804.2067,258.9193 Q1804.5952,259.009 1804.9339,259.1883 L1804.9339,260.8219 Q1804.5554,260.4732 1804.1993,260.3114 Q1803.8432,260.1495 1803.4646,260.1495 Q1802.6578,260.1495 1802.2469,260.7895 Q1801.836,261.4295 1801.836,262.6896 Q1801.836,263.9446 1802.2469,264.5846 Q1802.6578,265.2246 1803.4646,265.2246 Q1803.8432,265.2246 1804.1993,265.0627 Q1804.5554,264.9009 1804.9339,264.5522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="67.2" x="1815.45" y="265.9746">PartitionListener</text><line style="stroke:#181818;stroke-width:0.3;" x1="1738.8" x2="1939.8" y1="272.4" y2="272.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="185.4" x="1741.8" y="282.9211">StorageUpdateHandler storageUpdateHandle</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="195" x="1741.8" y="292.8141">Map&lt;Integer, TxStateStorage&gt; txStateStorages</text><line style="stroke:#181818;stroke-width:0.3;" x1="1738.8" x2="1939.8" y1="296.9859" y2="296.9859"/></g><path d="M1961.7,267 L1961.7,272.1932 L1936.8,289.6395 L1961.7,276.9932 L1961.7,282.1863 A0,0 0 0 0 1961.7,282.1863 L2117.7,282.1863 A0,0 0 0 0 2117.7,282.1863 L2117.7,273 L2111.7,267 L1961.7,267 A0,0 0 0 0 1961.7,267 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><path d="M2111.7,267 L2111.7,273 L2117.7,273 L2111.7,267 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="143.4" x="1965.3" y="277.541">One listener handles many tables now</text><!--class StorageUpdateHandler--><g id="elem_StorageUpdateHandler"><rect codeLine="157" fill="#F1F1F1" height="48.5859" id="StorageUpdateHandler" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="180" x="1806.9" y="456.9"/><ellipse cx="1847.55" cy="466.5" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1849.3339,469.8858 Q1848.9853,470.0651 1848.6018,470.1548 Q1848.2183,470.2444 1847.7949,470.2444 Q1846.2908,470.2444 1845.4989,469.2533 Q1844.707,468.2622 1844.707,466.3896 Q1844.707,464.5119 1845.4989,463.5208 Q1846.2908,462.5297 1847.7949,462.5297 Q1848.2183,462.5297 1848.6067,462.6193 Q1848.9952,462.709 1849.3339,462.8883 L1849.3339,464.5219 Q1848.9554,464.1732 1848.5993,464.0114 Q1848.2432,463.8495 1847.8646,463.8495 Q1847.0578,463.8495 1846.6469,464.4895 Q1846.236,465.1295 1846.236,466.3896 Q1846.236,467.6446 1846.6469,468.2846 Q1847.0578,468.9246 1847.8646,468.9246 Q1848.2432,468.9246 1848.5993,468.7627 Q1848.9554,468.6009 1849.3339,468.2522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="93.6" x="1859.85" y="469.6746">StorageUpdateHandler</text><line style="stroke:#181818;stroke-width:0.3;" x1="1807.5" x2="1986.3" y1="476.1" y2="476.1"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="123" x="1810.5" y="486.6211">PartitionDataStorage _storage</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="172.8" x="1810.5" y="496.5141">IndexUpdateHandler indexUpdateHandler</text><line style="stroke:#181818;stroke-width:0.3;" x1="1807.5" x2="1986.3" y1="500.6859" y2="500.6859"/></g><!--class RaftGroupService--><g id="elem_RaftGroupService"><rect codeLine="162" fill="#F1F1F1" height="38.693" id="RaftGroupService" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="117" x="3409.2" y="104.1"/><ellipse cx="3430.35" cy="113.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3432.1339,117.0858 Q3431.7853,117.2651 3431.4018,117.3548 Q3431.0183,117.4444 3430.5949,117.4444 Q3429.0908,117.4444 3428.2989,116.4533 Q3427.507,115.4622 3427.507,113.5896 Q3427.507,111.7119 3428.2989,110.7208 Q3429.0908,109.7297 3430.5949,109.7297 Q3431.0183,109.7297 3431.4067,109.8193 Q3431.7952,109.909 3432.1339,110.0883 L3432.1339,111.7219 Q3431.7554,111.3732 3431.3993,111.2114 Q3431.0432,111.0495 3430.6646,111.0495 Q3429.8578,111.0495 3429.4469,111.6895 Q3429.036,112.3295 3429.036,113.5896 Q3429.036,114.8446 3429.4469,115.4846 Q3429.8578,116.1246 3430.6646,116.1246 Q3431.0432,116.1246 3431.3993,115.9627 Q3431.7554,115.8009 3432.1339,115.4522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="70.8" x="3441.45" y="116.8746">RaftGroupService</text><line style="stroke:#181818;stroke-width:0.3;" x1="3409.8" x2="3525.6" y1="123.3" y2="123.3"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="109.8" x="3412.8" y="133.8211">NodeOptions nodeOptions</text><line style="stroke:#181818;stroke-width:0.3;" x1="3409.8" x2="3525.6" y1="137.993" y2="137.993"/></g><!--class NodeOptions--><g id="elem_NodeOptions"><rect codeLine="166" fill="#F1F1F1" height="48.5859" id="NodeOptions" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="174" x="3380.7" y="253.2"/><ellipse cx="3438.15" cy="262.8" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3439.9339,266.1858 Q3439.5853,266.3651 3439.2018,266.4548 Q3438.8183,266.5444 3438.3949,266.5444 Q3436.8908,266.5444 3436.0989,265.5533 Q3435.307,264.5622 3435.307,262.6896 Q3435.307,260.8119 3436.0989,259.8208 Q3436.8908,258.8297 3438.3949,258.8297 Q3438.8183,258.8297 3439.2067,258.9193 Q3439.5952,259.009 3439.9339,259.1883 L3439.9339,260.8219 Q3439.5554,260.4732 3439.1993,260.3114 Q3438.8432,260.1495 3438.4646,260.1495 Q3437.6578,260.1495 3437.2469,260.7895 Q3436.836,261.4295 3436.836,262.6896 Q3436.836,263.9446 3437.2469,264.5846 Q3437.6578,265.2246 3438.4646,265.2246 Q3438.8432,265.2246 3439.1993,265.0627 Q3439.5554,264.9009 3439.9339,264.5522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="54" x="3450.45" y="265.9746">NodeOptions</text><line style="stroke:#181818;stroke-width:0.3;" x1="3381.3" x2="3554.1" y1="272.4" y2="272.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="72" x="3384.3" y="282.9211">StateMachine fsm</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="166.8" x="3384.3" y="292.8141">JraftGroupEventsListener raftGrpEvtsLsnr</text><line style="stroke:#181818;stroke-width:0.3;" x1="3381.3" x2="3554.1" y1="296.9859" y2="296.9859"/></g><!--class RaftServer--><g id="elem_RaftServer"><rect codeLine="171" fill="#F1F1F1" height="28.8" id="RaftServer" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="61.2" x="3302.7" y="108.9"/><ellipse cx="3311.7" cy="118.5" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3309.2566,115.9591 L3309.2566,114.6642 L3313.6843,114.6642 L3313.6843,115.9591 L3312.2051,115.9591 L3312.2051,120.8051 L3313.6843,120.8051 L3313.6843,122.1 L3309.2566,122.1 L3309.2566,120.8051 L3310.7358,120.8051 L3310.7358,115.9591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="42" x="3320.1" y="121.6746">RaftServer</text><line style="stroke:#181818;stroke-width:0.3;" x1="3303.3" x2="3363.3" y1="128.1" y2="128.1"/><line style="stroke:#181818;stroke-width:0.3;" x1="3303.3" x2="3363.3" y1="132.9" y2="132.9"/></g><!--class JraftServerImpl--><g id="elem_JraftServerImpl"><rect codeLine="173" fill="#F1F1F1" height="48.5859" id="JraftServerImpl" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="233.4" x="3351" y="4.2"/><ellipse cx="3434.85" cy="13.8" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3436.6339,17.1858 Q3436.2853,17.3651 3435.9018,17.4548 Q3435.5183,17.5444 3435.0949,17.5444 Q3433.5908,17.5444 3432.7989,16.5533 Q3432.007,15.5622 3432.007,13.6896 Q3432.007,11.8119 3432.7989,10.8208 Q3433.5908,9.8297 3435.0949,9.8297 Q3435.5183,9.8297 3435.9067,9.9193 Q3436.2952,10.009 3436.6339,10.1883 L3436.6339,11.8219 Q3436.2554,11.4732 3435.8993,11.3114 Q3435.5432,11.1495 3435.1646,11.1495 Q3434.3578,11.1495 3433.9469,11.7895 Q3433.536,12.4295 3433.536,13.6896 Q3433.536,14.9446 3433.9469,15.5846 Q3434.3578,16.2246 3435.1646,16.2246 Q3435.5432,16.2246 3435.8993,16.0627 Q3436.2554,15.9009 3436.6339,15.5522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="60.6" x="3447.15" y="16.9746">JraftServerImpl</text><line style="stroke:#181818;stroke-width:0.3;" x1="3351.6" x2="3583.8" y1="23.4" y2="23.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="226.2" x="3354.6" y="33.9211">ConcurrentMap&lt;RaftNodeId, RaftGroupService&gt; nodes</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="74.4" x="3354.6" y="43.8141">NodeOptions opts</text><line style="stroke:#181818;stroke-width:0.3;" x1="3351.6" x2="3583.8" y1="47.9859" y2="47.9859"/></g><!--class Loza--><g id="elem_Loza"><rect codeLine="178" fill="#F1F1F1" height="48.5859" id="Loza" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="91.8" x="3238.2" y="4.2"/><ellipse cx="3271.95" cy="13.8" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3273.7339,17.1858 Q3273.3853,17.3651 3273.0018,17.4548 Q3272.6183,17.5444 3272.1949,17.5444 Q3270.6908,17.5444 3269.8989,16.5533 Q3269.107,15.5622 3269.107,13.6896 Q3269.107,11.8119 3269.8989,10.8208 Q3270.6908,9.8297 3272.1949,9.8297 Q3272.6183,9.8297 3273.0067,9.9193 Q3273.3952,10.009 3273.7339,10.1883 L3273.7339,11.8219 Q3273.3554,11.4732 3272.9993,11.3114 Q3272.6432,11.1495 3272.2646,11.1495 Q3271.4578,11.1495 3271.0469,11.7895 Q3270.636,12.4295 3270.636,13.6896 Q3270.636,14.9446 3271.0469,15.5846 Q3271.4578,16.2246 3272.2646,16.2246 Q3272.6432,16.2246 3272.9993,16.0627 Q3273.3554,15.9009 3273.7339,15.5522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="19.2" x="3284.25" y="16.9746">Loza</text><line style="stroke:#181818;stroke-width:0.3;" x1="3238.8" x2="3329.4" y1="23.4" y2="23.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="84.6" x="3241.8" y="33.9211">RaftServer raftServer</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="74.4" x="3241.8" y="43.8141">NodeOptions opts</text><line style="stroke:#181818;stroke-width:0.3;" x1="3238.8" x2="3329.4" y1="47.9859" y2="47.9859"/></g><!--class PartitionDataStorage--><g id="elem_PartitionDataStorage"><rect codeLine="183" fill="#F1F1F1" height="187.0875" id="PartitionDataStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="514.8" x="1228.5" y="635.7"/><ellipse cx="1440.75" cy="645.3" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1438.3066,642.7591 L1438.3066,641.4642 L1442.7343,641.4642 L1442.7343,642.7591 L1441.2551,642.7591 L1441.2551,647.6051 L1442.7343,647.6051 L1442.7343,648.9 L1438.3066,648.9 L1438.3066,647.6051 L1439.7858,647.6051 L1439.7858,642.7591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="85.2" x="1453.05" y="648.4746">PartitionDataStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="1229.1" x2="1742.7" y1="654.9" y2="654.9"/><line style="stroke:#181818;stroke-width:0.3;" x1="1229.1" x2="1742.7" y1="659.7" y2="659.7"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="203.4" x="1232.1" y="670.2211">&lt;V&gt; V runConsistently(WriteClosure&lt;V&gt; closure)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="172.8" x="1232.1" y="680.1141">void acquirePartitionSnapshotsReadLock()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="171.6" x="1232.1" y="690.007">void releasePartitionSnapshotsReadLock()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="139.8" x="1232.1" y="699.9">CompletableFuture&lt;Void&gt; flush()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="96.6" x="1232.1" y="709.793">long lastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="94.8" x="1232.1" y="719.6859">long lastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="256.2" x="1232.1" y="729.5789">void lastApplied(long lastAppliedIndex, long lastAppliedTerm)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="280.8" x="1232.1" y="739.4719">void committedGroupConfiguration(RaftGroupConfiguration config)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="507.6" x="1232.1" y="749.3648">BinaryRow addWrite(int tableId, RowId rowId, @Nullable BinaryRow row, UUID txId, int commitTableId, int commitPartitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="191.4" x="1232.1" y="759.2578">BinaryRow abortWrite(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="297.6" x="1232.1" y="769.1508">void commitWrite(int tableId, RowId rowId, HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="246.6" x="1232.1" y="779.0437">Cursor&lt;ReadResult&gt; scanVersions(int tableId, RowId rowId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="46.8" x="1232.1" y="788.9367">void close()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="253.8" x="1232.1" y="798.8297">PartitionTimestampCursor scan(HybridTimestamp timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="193.2" x="1232.1" y="808.7227">GcEntry peek(HybridTimestamp lowWatermark)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="137.4" x="1232.1" y="818.6156">BinaryRow vacuum(GcEntry entry)</text></g><!--class SnapshotAwarePartitionDataStorage--><g id="elem_SnapshotAwarePartitionDataStorage"><rect codeLine="202" fill="#F1F1F1" height="48.5859" id="SnapshotAwarePartitionDataStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="173.4" x="1201.2" y="456.9"/><ellipse cx="1212.36" cy="466.5" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1214.1439,469.8858 Q1213.7953,470.0651 1213.4118,470.1548 Q1213.0283,470.2444 1212.6049,470.2444 Q1211.1008,470.2444 1210.3089,469.2533 Q1209.517,468.2622 1209.517,466.3896 Q1209.517,464.5119 1210.3089,463.5208 Q1211.1008,462.5297 1212.6049,462.5297 Q1213.0283,462.5297 1213.4167,462.6193 Q1213.8052,462.709 1214.1439,462.8883 L1214.1439,464.5219 Q1213.7654,464.1732 1213.4093,464.0114 Q1213.0532,463.8495 1212.6746,463.8495 Q1211.8678,463.8495 1211.4569,464.4895 Q1211.046,465.1295 1211.046,466.3896 Q1211.046,467.6446 1211.4569,468.2846 Q1211.8678,468.9246 1212.6746,468.9246 Q1213.0532,468.9246 1213.4093,468.7627 Q1213.7654,468.6009 1214.1439,468.2522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="149.4" x="1221.24" y="469.6746">SnapshotAwarePartitionDataStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="1201.8" x2="1374" y1="476.1" y2="476.1"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="147.6" x="1204.8" y="486.6211">MvPartitionStorage partitionStorage</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="166.2" x="1204.8" y="496.5141">PartitionsSnapshots partitionsSnapshots</text><line style="stroke:#181818;stroke-width:0.3;" x1="1201.8" x2="1374" y1="500.6859" y2="500.6859"/></g><g id="elem_GMN41"><path d="M1395.9,473.7 L1395.9,478.8 L1374.87,481.2 L1395.9,483.6 L1395.9,488.8863 A0,0 0 0 0 1395.9,488.8863 L1700.7,488.8863 A0,0 0 0 0 1700.7,488.8863 L1700.7,479.7 L1694.7,473.7 L1395.9,473.7 A0,0 0 0 0 1395.9,473.7 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><path d="M1694.7,473.7 L1694.7,479.7 L1700.7,479.7 L1694.7,473.7 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="292.2" x="1399.5" y="484.241">&#1057;&#1086; &#1089;&#1085;&#1072;&#1087;&#1096;&#1086;&#1090;&#1072;&#1084;&#1080; &#1087;&#1086;&#1082;&#1072; &#1074;&#1086;&#1086;&#1073;&#1097;&#1077; &#1085;&#1080;&#1095;&#1077;&#1075;&#1086; &#1085;&#1077; &#1087;&#1086;&#1085;&#1103;&#1090;&#1085;&#1086;, &#1085;&#1072;&#1076;&#1086; &#1088;&#1072;&#1079;&#1073;&#1080;&#1088;&#1072;&#1090;&#1100;&#1089;&#1103; &#1076;&#1072;&#1083;&#1100;&#1096;&#1077;</text></g><!--class PartitionsSnapshots--><g id="elem_PartitionsSnapshots"><rect codeLine="211" fill="#F1F1F1" height="58.4789" id="PartitionsSnapshots" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="272.4" x="1764.3" y="700.2"/><ellipse cx="1857.15" cy="709.8" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M1854.7066,707.2591 L1854.7066,705.9642 L1859.1343,705.9642 L1859.1343,707.2591 L1857.6551,707.2591 L1857.6551,712.1051 L1859.1343,712.1051 L1859.1343,713.4 L1854.7066,713.4 L1854.7066,712.1051 L1856.1858,712.1051 L1856.1858,707.2591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="81.6" x="1869.45" y="712.9746">PartitionsSnapshots</text><line style="stroke:#181818;stroke-width:0.3;" x1="1764.9" x2="2036.1" y1="719.4" y2="719.4"/><line style="stroke:#181818;stroke-width:0.3;" x1="1764.9" x2="2036.1" y1="724.2" y2="724.2"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="265.2" x="1767.9" y="734.7211">PartitionSnapshots partitionSnapshots(PartitionKey partitionKey)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="200.4" x="1767.9" y="744.6141">void removeSnapshots(PartitionKey partitionKey)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="194.4" x="1767.9" y="754.507">void finishOutgoingSnapshot(UUID snapshotId)</text></g><!--class OutgoingSnapshotsManager--><g id="elem_OutgoingSnapshotsManager"><rect codeLine="217" fill="#F1F1F1" height="48.5859" id="OutgoingSnapshotsManager" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="275.4" x="2105.4" y="99"/><ellipse cx="2181.75" cy="108.6" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2183.5339,111.9858 Q2183.1853,112.1651 2182.8018,112.2548 Q2182.4183,112.3444 2181.9949,112.3444 Q2180.4908,112.3444 2179.6989,111.3533 Q2178.907,110.3622 2178.907,108.4896 Q2178.907,106.6119 2179.6989,105.6208 Q2180.4908,104.6297 2181.9949,104.6297 Q2182.4183,104.6297 2182.8067,104.7193 Q2183.1952,104.809 2183.5339,104.9883 L2183.5339,106.6219 Q2183.1554,106.2732 2182.7993,106.1114 Q2182.4432,105.9495 2182.0646,105.9495 Q2181.2578,105.9495 2180.8469,106.5895 Q2180.436,107.2295 2180.436,108.4896 Q2180.436,109.7446 2180.8469,110.3846 Q2181.2578,111.0246 2182.0646,111.0246 Q2182.4432,111.0246 2182.7993,110.8627 Q2183.1554,110.7009 2183.5339,110.3522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="117.6" x="2194.05" y="111.7746">OutgoingSnapshotsManager</text><line style="stroke:#181818;stroke-width:0.3;" x1="2106" x2="2380.2" y1="118.2" y2="118.2"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="177.6" x="2109" y="128.7211">Map&lt;UUID, OutgoingSnapshot&gt; snapshots</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="268.2" x="2109" y="138.6141">Map&lt;PartitionKey, PartitionSnapshotsImpl&gt; snapshotsByPartition</text><line style="stroke:#181818;stroke-width:0.3;" x1="2106" x2="2380.2" y1="142.7859" y2="142.7859"/></g><!--class OutgoingSnapshot--><g id="elem_OutgoingSnapshot"><rect codeLine="222" fill="#F1F1F1" height="167.3016" id="OutgoingSnapshot" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="393.6" x="2255.1" y="193.8"/><ellipse cx="2410.65" cy="203.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2412.4339,206.7858 Q2412.0853,206.9651 2411.7018,207.0548 Q2411.3183,207.1444 2410.8949,207.1444 Q2409.3908,207.1444 2408.5989,206.1533 Q2407.807,205.1622 2407.807,203.2896 Q2407.807,201.4119 2408.5989,200.4208 Q2409.3908,199.4297 2410.8949,199.4297 Q2411.3183,199.4297 2411.7067,199.5193 Q2412.0952,199.609 2412.4339,199.7883 L2412.4339,201.4219 Q2412.0554,201.0732 2411.6993,200.9114 Q2411.3432,200.7495 2410.9646,200.7495 Q2410.1578,200.7495 2409.7469,201.3895 Q2409.336,202.0295 2409.336,203.2896 Q2409.336,204.5446 2409.7469,205.1846 Q2410.1578,205.8246 2410.9646,205.8246 Q2411.3432,205.8246 2411.6993,205.6627 Q2412.0554,205.5009 2412.4339,205.1522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="77.4" x="2422.95" y="206.5746">OutgoingSnapshot</text><line style="stroke:#181818;stroke-width:0.3;" x1="2255.7" x2="2648.1" y1="213" y2="213"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="104.4" x="2258.7" y="223.5211">PartitionAccess _partition</text><line style="stroke:#181818;stroke-width:0.3;" x1="2255.7" x2="2648.1" y1="227.693" y2="227.693"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="42" x="2258.7" y="238.2141">UUID id() {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="112.8" x="2258.7" y="248.107">PartitionKey partitionKey() {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="136.8" x="2258.7" y="258">void freezeScopeUnderMvLock() {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="92.4" x="2258.7" y="267.893">SnapshotMeta meta() {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="355.8" x="2258.7" y="277.7859">SnapshotMetaResponse handleSnapshotMetaRequest(SnapshotMetaRequest request) {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="386.4" x="2258.7" y="287.6789">SnapshotMvDataResponse handleSnapshotMvDataRequest(SnapshotMvDataRequest request) {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="384.6" x="2258.7" y="297.5719">SnapshotTxDataResponse handleSnapshotTxDataRequest(SnapshotTxDataRequest request) {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="91.8" x="2258.7" y="307.4648">void acquireMvLock() {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="90.6" x="2258.7" y="317.3578">void releaseMvLock() {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="167.4" x="2258.7" y="327.2508">boolean addRowIdToSkip(RowId rowId) {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="156.6" x="2258.7" y="337.1438">boolean alreadyPassed(RowId rowId) {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="165.6" x="2258.7" y="347.0367">void enqueueForSending(RowId rowId) {</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.2" x="2258.7" y="356.9297">void close() {</text></g><!--class PartitionAccess--><g id="elem_PartitionAccess"><rect codeLine="239" fill="#F1F1F1" height="147.5156" id="PartitionAccess" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="443.4" x="2501.4" y="407.4"/><ellipse cx="2689.35" cy="417" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2686.9066,414.4591 L2686.9066,413.1642 L2691.3343,413.1642 L2691.3343,414.4591 L2689.8551,414.4591 L2689.8551,419.3051 L2691.3343,419.3051 L2691.3343,420.6 L2686.9066,420.6 L2686.9066,419.3051 L2688.3858,419.3051 L2688.3858,414.4591 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="62.4" x="2701.65" y="420.1746">PartitionAccess</text><line style="stroke:#181818;stroke-width:0.3;" x1="2502" x2="2944.2" y1="426.6" y2="426.6"/><line style="stroke:#181818;stroke-width:0.3;" x1="2502" x2="2944.2" y1="431.4" y2="431.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="107.4" x="2505" y="441.9211">PartitionKey partitionKey()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="227.4" x="2505" y="451.8141">Cursor&lt;IgniteBiTuple&lt;UUID, TxMeta&gt;&gt; getAllTxMeta()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="177" x="2505" y="461.707">void addTxMeta(UUID txId, TxMeta txMeta)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="163.8" x="2505" y="471.6">RowId closestRowId(RowId lowerBound)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="314.4" x="2505" y="481.493">List&lt;ReadResult&gt; getAllRowVersions(RowId rowId) throws StorageException</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="235.2" x="2505" y="491.3859">RaftGroupConfiguration committedGroupConfiguration()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="436.2" x="2505" y="501.2789">void addWrite(RowId rowId, @Nullable BinaryRow row, UUID txId, int commitTableId, int commitPartitionId)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="423.6" x="2505" y="511.1719">void addWriteCommitted(RowId rowId, @Nullable BinaryRow row, HybridTimestamp commitTimestamp)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="114" x="2505" y="521.0648">long minLastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="112.2" x="2505" y="530.9578">long minLastAppliedTerm()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="116.4" x="2505" y="540.8508">long maxLastAppliedIndex()</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="114.6" x="2505" y="550.7438">long maxLastAppliedTerm()</text></g><!--class PartitionAccessImpl--><g id="elem_PartitionAccessImpl"><rect codeLine="254" fill="#F1F1F1" height="58.4789" id="PartitionAccessImpl" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="178.8" x="2901.3" y="248.4"/><ellipse cx="2947.95" cy="258" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2949.7339,261.3858 Q2949.3853,261.5651 2949.0018,261.6548 Q2948.6183,261.7444 2948.1949,261.7444 Q2946.6908,261.7444 2945.8989,260.7533 Q2945.107,259.7622 2945.107,257.8896 Q2945.107,256.0119 2945.8989,255.0208 Q2946.6908,254.0297 2948.1949,254.0297 Q2948.6183,254.0297 2949.0067,254.1193 Q2949.3952,254.209 2949.7339,254.3883 L2949.7339,256.0219 Q2949.3554,255.6732 2948.9993,255.5114 Q2948.6432,255.3495 2948.2646,255.3495 Q2947.4578,255.3495 2947.0469,255.9895 Q2946.636,256.6295 2946.636,257.8896 Q2946.636,259.1446 2947.0469,259.7846 Q2947.4578,260.4246 2948.2646,260.4246 Q2948.6432,260.4246 2948.9993,260.2627 Q2949.3554,260.1009 2949.7339,259.7522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="80.4" x="2960.25" y="261.1746">PartitionAccessImpl</text><line style="stroke:#181818;stroke-width:0.3;" x1="2901.9" x2="3079.5" y1="267.6" y2="267.6"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="101.4" x="2904.9" y="278.1211">PartitionKey partitionKey</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="135" x="2904.9" y="288.0141">MvTableStorage mvTableStorage</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="171.6" x="2904.9" y="297.907">TxStateTableStorage txStateTableStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="2901.9" x2="3079.5" y1="302.0789" y2="302.0789"/></g><!--class PartitionKey--><g id="elem_PartitionKey"><rect codeLine="260" fill="#F1F1F1" height="48.5859" id="PartitionKey" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="68.4" x="2966.1" y="456.9"/><ellipse cx="2975.1" cy="466.5" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M2976.8839,469.8858 Q2976.5353,470.0651 2976.1518,470.1548 Q2975.7683,470.2444 2975.3449,470.2444 Q2973.8408,470.2444 2973.0489,469.2533 Q2972.257,468.2622 2972.257,466.3896 Q2972.257,464.5119 2973.0489,463.5208 Q2973.8408,462.5297 2975.3449,462.5297 Q2975.7683,462.5297 2976.1567,462.6193 Q2976.5452,462.709 2976.8839,462.8883 L2976.8839,464.5219 Q2976.5054,464.1732 2976.1493,464.0114 Q2975.7932,463.8495 2975.4146,463.8495 Q2974.6078,463.8495 2974.1969,464.4895 Q2973.786,465.1295 2973.786,466.3896 Q2973.786,467.6446 2974.1969,468.2846 Q2974.6078,468.9246 2975.4146,468.9246 Q2975.7932,468.9246 2976.1493,468.7627 Q2976.5054,468.6009 2976.8839,468.2522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="49.2" x="2983.5" y="469.6746">PartitionKey</text><line style="stroke:#181818;stroke-width:0.3;" x1="2966.7" x2="3033.9" y1="476.1" y2="476.1"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="41.4" x="2969.7" y="486.6211">int tableId</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="2969.7" y="496.5141">int partitionId</text><line style="stroke:#181818;stroke-width:0.3;" x1="2966.7" x2="3033.9" y1="500.6859" y2="500.6859"/></g><!--class MvTableStorage--><g id="elem_MvTableStorage"><rect fill="#F1F1F1" height="28.8" id="MvTableStorage" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="85.2" x="3055.5" y="466.8"/><ellipse cx="3064.5" cy="476.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M3066.2839,479.7858 Q3065.9353,479.9651 3065.5518,480.0548 Q3065.1683,480.1444 3064.7449,480.1444 Q3063.2408,480.1444 3062.4489,479.1533 Q3061.657,478.1622 3061.657,476.2896 Q3061.657,474.4119 3062.4489,473.4208 Q3063.2408,472.4297 3064.7449,472.4297 Q3065.1683,472.4297 3065.5567,472.5193 Q3065.9452,472.609 3066.2839,472.7883 L3066.2839,474.4219 Q3065.9054,474.0732 3065.5493,473.9114 Q3065.1932,473.7495 3064.8146,473.7495 Q3064.0078,473.7495 3063.5969,474.3895 Q3063.186,475.0295 3063.186,476.2896 Q3063.186,477.5446 3063.5969,478.1846 Q3064.0078,478.8246 3064.8146,478.8246 Q3065.1932,478.8246 3065.5493,478.6627 Q3065.9054,478.5009 3066.2839,478.1522 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="66" x="3072.9" y="479.5746">MvTableStorage</text><line style="stroke:#181818;stroke-width:0.3;" x1="3056.1" x2="3140.1" y1="486" y2="486"/><line style="stroke:#181818;stroke-width:0.3;" x1="3056.1" x2="3140.1" y1="490.8" y2="490.8"/></g><!--reverse link DistributionZoneManager to DistributionZone--><g id="link_DistributionZoneManager_DistributionZone"><path codeLine="266" d="M906.3,151.218 C906.3,182.076 906.3,231.474 906.3,258.228 " fill="none" id="DistributionZoneManager-backto-DistributionZone" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="906.3,143.568,903.9,147.168,906.3,150.768,908.7,147.168,906.3,143.568" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link DistributionZone to MvZoneStorage--><g id="link_DistributionZone_MvZoneStorage"><path codeLine="267" d="M888.582,303.984 C864.678,338.91 821.904,401.412 794.172,441.924 " fill="none" id="DistributionZone-backto-MvZoneStorage" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="892.872,297.72,888.8596,299.3389,888.8108,303.6653,892.8232,302.0464,892.872,297.72" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link MvZoneStorage to MvPartitionStorage--><g id="link_MvZoneStorage_MvPartitionStorage"><path codeLine="268" d="M761.532,528.984 C760.596,549.774 760.104,575.31 760.056,601.092 " fill="none" id="MvZoneStorage-backto-MvPartitionStorage" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="761.916,521.286,759.3409,524.7629,761.56,528.4772,764.1351,525.0003,761.916,521.286" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link MvZoneStorage to MvPartitionStorage--><g id="link_MvZoneStorage_MvPartitionStorage"><path codeLine="276" d="M774.228,528.984 C775.224,549.774 775.746,575.31 775.794,601.092 " fill="none" id="MvZoneStorage-backto-MvPartitionStorage-1" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="773.82,521.286,771.6134,525.0077,774.2001,528.476,776.4067,524.7543,773.82,521.286" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link TableManager to TableImpl--><g id="link_TableManager_TableImpl"><path codeLine="270" d="M1670.7,56.34 C1670.7,71.592 1670.7,90.222 1670.7,103.854 " fill="none" id="TableManager-backto-TableImpl" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="1670.7,48.726,1668.3,52.326,1670.7,55.926,1673.1,52.326,1670.7,48.726" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="43.2" x="1671.3" y="78.941">tableByIdVv</text></g><!--reverse link TableImpl to InternalTableImpl--><g id="link_TableImpl_InternalTableImpl"><path codeLine="271" d="M1665.054,151.074 C1659.042,180 1649.622,225.324 1643.88,252.954 " fill="none" id="TableImpl-backto-InternalTableImpl" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="1666.614,143.55,1663.5323,146.5869,1665.1503,150.5996,1668.232,147.5627,1666.614,143.55" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="10.2" x="1661.7" y="173.741">tbl</text></g><!--link InternalTableImpl to MvZoneStorage--><g id="link_InternalTableImpl_MvZoneStorage"><path codeLine="273" d="M1609.182,302.046 C1582.992,321.678 1542.936,348.264 1503.3,361.2 C1262.436,439.812 1180.8,345.534 935.1,407.4 C904.716,415.05 872.856,427.692 845.184,440.34 " fill="none" id="InternalTableImpl-to-MvZoneStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="842.484,441.582,848.3927,441.4947,845.2071,440.3232,846.3786,437.1377,842.484,441.582" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="46.8" x="1436.1" y="387.341">tableStorage</text></g><!--reverse link InternalTableImpl to TxStateTableStorage--><g id="link_InternalTableImpl_TxStateTableStorage"><path codeLine="274" d="M1663.224,308.508 C1679.508,326.718 1702.518,348.696 1727.7,361.2 C1836.744,415.344 1880.724,373.662 1997.7,407.4 C2029.254,416.502 2062.8,429.474 2092.104,441.972 " fill="none" id="InternalTableImpl-backto-TxStateTableStorage" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="1658.136,302.676,1658.6924,306.9667,1662.8671,308.1034,1662.3107,303.8126,1658.136,302.676" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="54.6" x="1817.1" y="387.341">txStateStorage</text></g><!--link VolatilePageMemoryZoneStorage to MvZoneStorage--><g id="link_VolatilePageMemoryZoneStorage_MvZoneStorage"><path codeLine="278" d="M573.972,292.176 C603.498,320.892 671.85,387.372 718.92,433.158 " fill="none" id="VolatilePageMemoryZoneStorage-to-MvZoneStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="721.71,430.014,727.386,441.39,715.854,436.032,721.71,430.014" style="stroke:#181818;stroke-width:0.6;"/></g><!--link RocksDbZoneStorage to MvZoneStorage--><g id="link_RocksDbZoneStorage_MvZoneStorage"><path codeLine="279" d="M417.174,296.958 C427.758,316.074 446.688,345.066 471.3,361.2 C499.104,379.428 511.686,370.998 543.9,379.2 C591.978,391.434 606.396,387.648 651.9,407.4 C669.354,414.978 687.21,424.968 703.512,435.126 " fill="none" id="RocksDbZoneStorage-to-MvZoneStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="705.624,431.49,713.484,441.486,701.112,438.576,705.624,431.49" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PersistentPageMemoryZoneStorage to MvZoneStorage--><g id="link_PersistentPageMemoryZoneStorage_MvZoneStorage"><path codeLine="280" d="M742.02,292.176 C745.824,320.118 754.506,383.796 760.722,429.396 " fill="none" id="PersistentPageMemoryZoneStorage-to-MvZoneStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="764.862,428.664,762.318,441.12,756.54,429.798,764.862,428.664" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionReplicaListener to MvPartitionStorage--><g id="link_PartitionReplicaListener_MvPartitionStorage"><path codeLine="282" d="M1051.722,306.894 C1011.168,337.194 951.636,383.712 935.1,407.4 C895.278,464.46 913.962,492.738 882.9,555 C875.802,569.226 867.75,583.68 859.278,597.87 " fill="none" id="PartitionReplicaListener-to-MvPartitionStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="857.814,600.306,862.6503,596.9103,859.3575,597.7335,858.5343,594.4407,857.814,600.306" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionReplicaListener to TxStateStorage--><g id="link_PartitionReplicaListener_TxStateStorage"><path codeLine="283" d="M1120.074,306.792 C1141.134,325.734 1171.338,349.206 1202.7,361.2 C1308.738,401.76 1615.854,346.236 1711.5,407.4 C1775.316,448.206 1734.822,511.314 1796.7,555 C1889.292,620.37 1939.308,567.426 2047.5,601.2 C2092.332,615.198 2139.444,634.428 2182.092,653.712 " fill="none" id="PartitionReplicaListener-to-TxStateStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2184.588,654.846,2180.6537,650.4368,2181.8537,653.6117,2178.6788,654.8117,2184.588,654.846" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionReplicaListener to MvZoneStorage--><g id="link_PartitionReplicaListener_MvZoneStorage"><path codeLine="284" d="M1060.254,306.834 C1039.056,325.05 1009.434,347.658 979.5,361.2 C944.478,377.046 929.658,362.778 894.9,379.2 C863.244,394.152 832.422,418.398 809.046,439.434 " fill="none" id="PartitionReplicaListener-to-MvZoneStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="806.904,441.372,812.5198,439.5327,809.13,439.3608,809.3019,435.9711,806.904,441.372" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link TxStateTableStorage to TxStateStorage--><g id="link_TxStateTableStorage_TxStateStorage"><path codeLine="286" d="M2168.37,528.9 C2167.878,546.594 2169.666,566.466 2177.1,583.2 C2189.07,610.14 2208.624,634.488 2229.84,655.218 " fill="none" id="TxStateTableStorage-backto-TxStateStorage" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="2168.736,521.316,2166.1648,524.7958,2168.3879,528.5076,2170.9591,525.0278,2168.736,521.316" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="136.8" x="2177.7" y="581.141">connected implementations actually</text></g><!--link TxStateRocksDbStorage to TxStateStorage--><g id="link_TxStateRocksDbStorage_TxStateStorage"><path codeLine="287" d="M2416.17,495.78 C2405.868,523.854 2381.952,589.038 2362.026,643.326 " fill="none" id="TxStateRocksDbStorage-to-TxStateStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2365.974,644.766,2357.898,654.582,2358.09,641.874,2365.974,644.766" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link ReplicaManager to Replica--><g id="link_ReplicaManager_Replica"><path codeLine="289" d="M1440.024,151.218 C1440.384,182.076 1440.966,231.474 1441.278,258.228 " fill="none" id="ReplicaManager-backto-Replica" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="1439.934,143.568,1437.5737,147.1942,1440.0131,150.7676,1442.3734,147.1414,1439.934,143.568" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link Replica to ReplicaListener--><g id="link_Replica_ReplicaListener"><path codeLine="291" d="M1428.252,304.566 C1417.608,323.148 1400.94,347.118 1379.7,361.2 C1307.634,408.99 1271.004,375.33 1190.7,407.4 C1161.138,419.208 1130.1,436.842 1106.016,451.842 " fill="none" id="Replica-backto-ReplicaListener" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="1432.002,297.768,1428.161,299.7597,1428.5222,304.0712,1432.3632,302.0796,1432.002,297.768" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionReplicaListener to ReplicaListener--><g id="link_PartitionReplicaListener_ReplicaListener"><path codeLine="292" d="M1087.092,306.9 C1082.268,341.526 1074.138,399.906 1068.648,439.32 " fill="none" id="PartitionReplicaListener-to-ReplicaListener" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1072.836,439.698,1067.022,451.002,1064.52,438.54,1072.836,439.698" style="stroke:#181818;stroke-width:0.6;"/></g><!--link CmgRaftGroupListener to RaftGroupListener--><g id="link_CmgRaftGroupListener_RaftGroupListener"><path codeLine="294" d="M3188.07,292.176 C3204.828,318.486 3241.776,376.488 3270.288,421.242 " fill="none" id="CmgRaftGroupListener-to-RaftGroupListener" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3273.756,418.872,3276.66,431.25,3266.67,423.384,3273.756,418.872" style="stroke:#181818;stroke-width:0.6;"/></g><!--link MetaStorageListener to RaftGroupListener--><g id="link_MetaStorageListener_RaftGroupListener"><path codeLine="295" d="M3308.1,292.176 C3308.1,318.096 3308.1,374.778 3308.1,419.244 " fill="none" id="MetaStorageListener-to-RaftGroupListener" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3312.3,419.106,3308.1,431.106,3303.9,419.106,3312.3,419.106" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionListener to RaftGroupListener--><g id="link_PartitionListener_RaftGroupListener"><path codeLine="296" d="M1862.598,302.052 C1883.7,321.978 1916.742,348.984 1951.5,361.2 C1982.97,372.264 3119.082,399.54 3151.5,407.4 C3170.49,412.002 3189.954,419.004 3208.416,426.876 " fill="none" id="PartitionListener-to-RaftGroupListener" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3209.964,422.97,3219.246,431.658,3206.574,430.656,3209.964,422.97" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link RaftGroupService to NodeOptions--><g id="link_RaftGroupService_NodeOptions"><path codeLine="298" d="M3467.7,151.26 C3467.7,180.192 3467.7,225.384 3467.7,252.954 " fill="none" id="RaftGroupService-backto-NodeOptions" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="3467.7,143.568,3465.3,147.168,3467.7,150.768,3470.1,147.168,3467.7,143.568" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link NodeOptions to RaftGroupListener--><g id="link_NodeOptions_RaftGroupListener"><path codeLine="299" d="M3443.67,308.592 C3417.906,341.28 3376.626,393.654 3346.38,432.036 " fill="none" id="NodeOptions-backto-RaftGroupListener" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="3448.362,302.64,3444.2484,303.9809,3443.9039,308.2938,3448.0175,306.9529,3448.362,302.64" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="81" x="3388.5" y="387.341">through delegate fsm</text></g><!--link JraftServerImpl to RaftServer--><g id="link_JraftServerImpl_RaftServer"><path codeLine="301" d="M3433.266,53.082 C3411.84,68.004 3384.528,87.024 3363.87,101.412 " fill="none" id="JraftServerImpl-to-RaftServer" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3366.438,104.736,3354.192,108.15,3361.638,97.842,3366.438,104.736" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link JraftServerImpl to RaftGroupService--><g id="link_JraftServerImpl_RaftGroupService"><path codeLine="302" d="M3467.7,61.476 C3467.7,75.636 3467.7,91.758 3467.7,103.896 " fill="none" id="JraftServerImpl-backto-RaftGroupService" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="3467.7,53.868,3465.3,57.468,3467.7,61.068,3470.1,57.468,3467.7,53.868" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="22.8" x="3468.3" y="78.941">nodes</text></g><!--reverse link Loza to RaftServer--><g id="link_Loza_RaftServer"><path codeLine="304" d="M3300.6,60.492 C3309.21,76.866 3319.302,96.072 3325.974,108.768 " fill="none" id="Loza-backto-RaftServer" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="3297.066,53.766,3296.616,58.0692,3300.4151,60.1396,3300.8651,55.8364,3297.066,53.766" style="stroke:#181818;stroke-width:0.6;"/></g><!--link SnapshotAwarePartitionDataStorage to PartitionDataStorage--><g id="link_SnapshotAwarePartitionDataStorage_PartitionDataStorage"><path codeLine="306" d="M1307.064,505.698 C1329.396,533.544 1367.772,581.4 1403.268,625.662 " fill="none" id="SnapshotAwarePartitionDataStorage-to-PartitionDataStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1406.466,622.932,1410.696,634.92,1399.908,628.188,1406.466,622.932" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link PartitionListener to PartitionDataStorage--><g id="link_PartitionListener_PartitionDataStorage"><path codeLine="308" d="M1830.288,310.266 C1813.746,365.058 1774.362,478.02 1711.5,555 C1687.584,584.292 1657.812,611.586 1627.824,635.466 " fill="none" id="PartitionListener-backto-PartitionDataStorage" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="1832.49,302.862,1829.1643,305.6297,1830.44,309.764,1833.7657,306.9963,1832.49,302.862" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionListener to StorageUpdateHandler--><g id="link_PartitionListener_StorageUpdateHandler"><path codeLine="311" d="M1846.074,301.926 C1856.832,339.726 1877.742,413.25 1889.1,453.186 " fill="none" id="PartitionListener-to-StorageUpdateHandler" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1889.856,455.838,1890.6848,449.9871,1889.0341,452.9528,1886.0684,451.3021,1889.856,455.838" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionListener to TxStateStorage--><g id="link_PartitionListener_TxStateStorage"><path codeLine="312" d="M1863.732,302.058 C1885.05,321.42 1917.774,347.616 1951.5,361.2 C2025.948,391.182 2254.764,348.888 2309.7,407.4 C2341.65,441.432 2340.852,567.816 2336.436,651.564 " fill="none" id="PartitionListener-to-TxStateStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2336.286,654.366,2338.976,649.1045,2336.4491,651.3704,2334.1831,648.8435,2336.286,654.366" style="stroke:#181818;stroke-width:0.6;"/></g><!--link StorageUpdateHandler to PartitionDataStorage--><g id="link_StorageUpdateHandler_PartitionDataStorage"><path codeLine="314" d="M1875.93,505.794 C1855.71,527.904 1823.436,560.622 1790.7,583.2 C1789.188,584.244 1742.118,606.786 1685.4,633.822 " fill="none" id="StorageUpdateHandler-to-PartitionDataStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1682.82,635.052,1688.7275,634.9045,1685.5302,633.7655,1686.6691,630.5682,1682.82,635.052" style="stroke:#181818;stroke-width:0.6;"/></g><!--link RocksDbMvPartitionStorage to MvPartitionStorage--><g id="link_RocksDbMvPartitionStorage_MvPartitionStorage"><path codeLine="316" d="M512.67,500.562 C535.632,521.1 574.638,555.99 615.324,592.392 " fill="none" id="RocksDbMvPartitionStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="618.036,589.182,624.18,600.312,612.438,595.44,618.036,589.182" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PersistentPageMemoryMvPartitionStorage to MvPartitionStorage--><g id="link_PersistentPageMemoryMvPartitionStorage_MvPartitionStorage"><path codeLine="317" d="M116.028,495.846 C136.044,512.046 171.102,538.56 204.9,555 C296.886,599.748 402.918,636.042 497.976,663.666 " fill="none" id="PersistentPageMemoryMvPartitionStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="498.864,659.55,509.232,666.912,496.542,667.626,498.864,659.55" style="stroke:#181818;stroke-width:0.6;"/></g><!--link VolatilePageMemoryMvPartitionStorage to MvPartitionStorage--><g id="link_VolatilePageMemoryMvPartitionStorage_MvPartitionStorage"><path codeLine="318" d="M323.064,495.9 C342.642,511.434 375.768,536.652 406.5,555 C435.828,572.508 467.196,589.692 498.732,606.024 " fill="none" id="VolatilePageMemoryMvPartitionStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="500.568,602.244,509.316,611.472,496.728,609.714,500.568,602.244" style="stroke:#181818;stroke-width:0.6;"/></g><!--link SnapshotAwarePartitionDataStorage to MvPartitionStorage--><g id="link_SnapshotAwarePartitionDataStorage_MvPartitionStorage"><path codeLine="320" d="M1260.102,505.776 C1241.352,521.16 1215.576,540.84 1190.7,555 C1139.934,583.902 1083.402,610.542 1028.616,633.828 " fill="none" id="SnapshotAwarePartitionDataStorage-to-MvPartitionStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1026.012,634.932,1031.9206,635.0263,1028.7725,633.7575,1030.0413,630.6095,1026.012,634.932" style="stroke:#181818;stroke-width:0.6;"/></g><!--link SnapshotAwarePartitionDataStorage to PartitionsSnapshots--><g id="link_SnapshotAwarePartitionDataStorage_PartitionsSnapshots"><path codeLine="321" d="M1312.02,505.716 C1330.434,522.444 1357.296,543.732 1385.1,555 C1538.28,617.076 1603.218,533.724 1754.1,601.2 C1803.132,623.13 1847.85,667.164 1874.622,697.284 " fill="none" id="SnapshotAwarePartitionDataStorage-to-PartitionsSnapshots" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1876.56,699.474,1874.7769,693.8401,1874.5712,697.228,1871.1833,697.0223,1876.56,699.474" style="stroke:#181818;stroke-width:0.6;"/></g><!--link OutgoingSnapshotsManager to PartitionsSnapshots--><g id="link_OutgoingSnapshotsManager_PartitionsSnapshots"><path codeLine="323" d="M2237.004,147.87 C2224.122,194.298 2190.15,297.51 2128.5,361.2 C2097.726,393 2068.284,373.122 2040.3,407.4 C1997.124,460.29 2024.01,491.994 1997.7,555 C1977.618,603.09 1947.462,654.804 1926.072,689.184 " fill="none" id="OutgoingSnapshotsManager-to-PartitionsSnapshots" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1929.744,691.23,1919.802,699.156,1922.634,686.76,1929.744,691.23" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link OutgoingSnapshotsManager to OutgoingSnapshot--><g id="link_OutgoingSnapshotsManager_OutgoingSnapshot"><path codeLine="324" d="M2282.646,152.874 C2298.756,164.682 2318.28,178.986 2338.26,193.626 " fill="none" id="OutgoingSnapshotsManager-backto-OutgoingSnapshot" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="2276.46,148.344,2277.9447,152.4079,2282.2671,152.6004,2280.7824,148.5365,2276.46,148.344" style="stroke:#181818;stroke-width:0.6;"/></g><!--link OutgoingSnapshot to PartitionAccess--><g id="link_OutgoingSnapshot_PartitionAccess"><path codeLine="325" d="M2563.578,361.488 C2582.838,375.87 2602.77,390.75 2621.742,404.916 " fill="none" id="OutgoingSnapshot-to-PartitionAccess" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2624.052,406.644,2621.1632,401.4889,2621.6489,404.8481,2618.2898,405.3339,2624.052,406.644" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionAccessImpl to PartitionAccess--><g id="link_PartitionAccessImpl_PartitionAccess"><path codeLine="327" d="M2952.642,306.9 C2920.716,331.056 2873.514,366.78 2830.2,399.552 " fill="none" id="PartitionAccessImpl-to-PartitionAccess" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2832.99,402.708,2820.888,406.602,2827.92,396.012,2832.99,402.708" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link PartitionAccessImpl to PartitionKey--><g id="link_PartitionAccessImpl_PartitionKey"><path codeLine="329" d="M2992.476,315.564 C2994.432,356.784 2997.51,421.794 2999.166,456.642 " fill="none" id="PartitionAccessImpl-backto-PartitionKey" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="2992.11,307.806,2989.8828,311.5154,2992.4502,314.998,2994.6774,311.2886,2992.11,307.806" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionAccessImpl to MvTableStorage--><g id="link_PartitionAccessImpl_MvTableStorage"><path codeLine="330" d="M3005.976,306.9 C3028.596,349.548 3070.314,428.214 3088.83,463.122 " fill="none" id="PartitionAccessImpl-to-MvTableStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3090.228,465.762,3089.8242,459.8665,3088.8251,463.1102,3085.5814,462.1111,3090.228,465.762" style="stroke:#181818;stroke-width:0.6;"/></g><!--link PartitionAccessImpl to TxStateTableStorage--><g id="link_PartitionAccessImpl_TxStateTableStorage"><path codeLine="331" d="M2901.09,303.078 C2834.754,320.958 2741.97,344.694 2659.5,361.2 C2524.116,388.296 2485.362,370.56 2352.3,407.4 C2321.568,415.908 2289.018,428.274 2260.296,440.424 " fill="none" id="PartitionAccessImpl-to-TxStateTableStorage" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2257.65,441.552,2263.5583,441.6619,2260.4136,440.3848,2261.6907,437.2401,2257.65,441.552" style="stroke:#181818;stroke-width:0.6;"/></g><!--link TxStateStorage to TxMeta--><g id="link_TxStateStorage_TxMeta"><path codeLine="333" d="M2330.7,803.262 C2330.7,833.232 2330.7,866.352 2330.7,890.058 " fill="none" id="TxStateStorage-to-TxMeta" style="stroke:#181818;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2330.7,892.878,2333.1,887.478,2330.7,889.878,2328.3,887.478,2330.7,892.878" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link TxMeta to TxState--><g id="link_TxMeta_TxState"><path codeLine="334" d="M2330.7,960.786 C2330.7,970.236 2330.7,980.142 2330.7,988.728 " fill="none" id="TxMeta-backto-TxState" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="2330.7,953.196,2328.3,956.796,2330.7,960.396,2333.1,956.796,2330.7,953.196" style="stroke:#181818;stroke-width:0.6;"/></g><!--reverse link RocksDbZoneStorage to RocksDB--><g id="link_RocksDbZoneStorage_RocksDB"><path codeLine="336" d="M422.82,304.326 C434.25,322.272 451.35,345.552 471.3,361.2 C511.614,392.808 539.532,372.36 576.9,407.4 C594.534,423.936 605.358,450.54 610.68,466.71 " fill="none" id="RocksDbZoneStorage-backto-RocksDB" style="stroke:#181818;stroke-width:0.6;"/><polygon fill="#181818" points="418.758,297.774,418.6142,302.0983,422.5505,303.8942,422.6943,299.57,418.758,297.774" style="stroke:#181818;stroke-width:0.6;"/></g><!--SRC=[vLfVR-Is4N_Nf-1RzWgVxzrTRED_oMrhnuQzvm0jYWCjSNU5aqI5f6plNGCqUMaA1CXdo3Uuj3qqQ7lELz1-emx_Y28bQjUNIz00VLbJv6-6m-7CS3Zq1qiXIhxtv4cPuK9KURORq_n9d67E7oSfNZ2SHv7wH4Sf5oozhaHAYz_JWfpY0Yy8GwyYX4vWRDm5JD1B-ENHvqCS5EdfZMnU2ig0cw8mRKcN5eAmEOu9mCun4waaRR2QkjSTCu85SGP6ZyB01H4k2kP2PVCrJIJHDQKPmGLA-HNDi4WpedZTq3H12O75q9NgY075Dd2o6fZXwynJtBG0SNDI29nT4SO1Jv8hd5LaV8hByHIM3yWTJJVDosmoGKAs3rRJvEgcmrW235TGMu4prOl4TTO2lI5BCBm92CtkBWKeL14q2A7x1dRAvVM_sQHVlzSkdSkTu09svHn4E2KvPIjlJPyRu0MDN_2Zw-vwTVS1IgwZ1jc8DiZGutW0R7obXZP1JhKlQ9x65sHE62bYiiyONeqDs4Xdu1F4TOEtU-ee-OmTgYtnHqBwxjDkft7tujtGeqT1HRWwcDsT4e6b8ADdpwP7O9mEcx9oUdSQh51_NEk1i0TIaFqYkIGUnOUVL5cc_CXCtHZ_yLr9Oa6wJ7TGHek5v9VZ8faM2RdpksQ4vLOyS7vwGtov3ol6AHjF5qKgo44wgygCZ2MYcGc208-nTfb3a3iZAYPyL8cAaV4Ly9sWULRnfKAekS6un7vPPYdH8WL7f6HjW7C6Ha4UEq46bd5flCYPKF6DCygTEFhSssWJpK8637lj09J6NxNcsEnASnWfJpblxMg2I94fSModT8IdgskM9hCq1o5mNgezIeNzbZEIeihjBChd3iukPiT7KlbdfwTJsNp8KJM-cg0hnAhY4ARMuILRZJvbiCc7e1ArTHEb7MXQzVmYz_5w9SWV_cYK1ICVCrgLiAnvkgWOjk5SR_S6aEKZEoN51S791U5L9i0pSAA2Wx9jwOaNz7OA7YD_TteR9vgMP7EG5fYj08zmaYWDR-3KEdXB1aCxo0a2ajgOHiEZxJhtevSp-JLbOlFq7JLjatNZgXMVPi67ZTf_pCgtU8KJfDeDqp79935yuuAjmYn7pKr7jOrhr9nK2E52VOHcokWjOGUqAjHq7yV7XM0hC6JoeiSTe9-2OxCSinV-xjtWkAhoKKDDvE-M927a-SCPm2Qq2Nq3eIIGTmmcpXS4N3h69qfMatM6ZetVJC2aR-WBCZ8K5-Ip2fG4ZgZ-Fb9qoiPeSK309CWvIq5jgz4Xn2YOxXEQG6BNjZsAosKb4dfRk67UhYqaOs3f-SqH5hZDJFqKsKiC9fqKbM-vQHGKWZjB5qk1w7nGiBszFjSpkCTaZU1BEDypmX6Syojjb1mLz1REa0J9AMoQf_cwDm68Z77588iJJp5VogKPa9H3nKvft_rzCoZ82PXkEHSkCwPjfgFZHkQEjU2vK9DrxCNiedJtqHJ061GmFjG9JNDwoK7J1TAa1kLPWOvlGmniuDh0mJj0sY1dMzwuSxAqXbZWaY-fkCIGTvrZiOJiKoobPWjUvOIDPqi8L5B14vI0ZO1mchx955iM9nIqOLaCcRldDdCAEIOSigkHMMUJ5JfkSPWl0jlGH0QP-1ZpwmzQm_Mspy2VbGcOxbDbegov3RYTx-fIWsxpa_jBS0MltAF4YGpeERSXGkKiFbdQwt8Sfj7x9M4tQQoZhOnbPwNA644esswfN83MjxpRudYPmbhdF8UktxA6y_4Dk3Yt-wFxeHVwU17mHYc9tc8pcsAbU-tzlGqUAd00GCga3iJEYYPg2RopB5eAPpqdzAM96UtyxQG3fAtKmJtvyHamZZ-hKjRcyettSHblJk0a73ctAV1GlWtwYxmoRSsLxKOEHRZ_pwJtVVBGpdNqFTBIdoV5RCnt_nOxzj_rga2YL7OwtCLnwnGjhEthnVIjCW3l-jlw7gs_gD_Mh-iVrb_Lz-ileVMV-djK_r3Vr_-gNwFwRz2uhxzR_xL-Wm3u_VelzPlwxq077syqxktw6o1yMz_l8CNg7vBhdw7np_ex883M-ilrr-ilrjyW67jT_ni-lghVE8T5A0Wvw_KEZ80QRDV8edv7LkquV7GAD-z2CK-Bb2_FAh6WQR5eA7NfXvilhmpPXN8tNPHnNjU4kh29vSODpfLj9w01LLXkgGvM5Z8iZA_C_JWc07fk5mw3Qc5fCdhaGxlwCUDQHOoGb-GofYLv1k6IdTxeeArFLJEpglpay1FeXn1GmfOJarZuG-eQCmhqsIkEpq_TDeOuci4EJxStp7Lsju5hC-XpzNfzhku1wIdBFGwzWIQBXJD2HSCPlNoHbYCtClguJ1PYm28uXqEj1rFpa094giX7b5s2BuAH3E1CgDM5l82h6YlQOYuFh90kYDZFClqvSiiZfcjJKJXGPGWL5bIXqJrvz9m0jSUFfmWXRnOscJs-YqbfV6NmS7z0WSsUzZ_h0JzGNFh9waagByhJucGmw_87RUAbn_3T1a9lq13sYn3Q-cnAFMY1wiZr7c9oxtFpavc7x0iX9vEpEscB-NBUI2HTDFGS-wl7ZtiFhJsmGddraCYlZkZnRc8HHTu3fWIrxuXxtijasozH_LV7FVKi6VK7TdSddKgDOTp8q2THSWHKljTzftpW8ZS_rktk_gaZOHIenmLGsvuL0oJHO8bCgwad-qQyVv_VnjkJ8wHUH-sjnk4-KgXdCPJAMvPwsjONHHoB2cVPAWg_xgZLToICEdKoEQFficDkPxE2JKk3MRheA5XnqT1kTnIglmn0-zMO0M3KgpkeLJdNxCYzSkibzmJUKmTCjLYY10x-XNokaiM7g5imi4AO-tnttEFU2BHdwWQHAWuq4CCXsdvJKPC6xmy1DKdsOUm7g21WMuAYIYQ8S7n0yY-MH3uNPIXBvoHUnN00oPjBe6OKt9B9kq2x5XgiJ4bWMFxXkhxn_hv7F-oTOOZyGSyEGyGFsjSWvSC80vUqA1gyzlWcv90CKaWxwWxsqBuaEWjmZD992tm1DY4z0vOvGvZTf9D93C82uTV6P5UXEfEDJ4Bh1EWeT4OfBzR_S1Bz5m00]--></g></svg>